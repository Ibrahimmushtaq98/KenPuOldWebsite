<html>

    
<!-- Mirrored from db.science.uoit.ca/library/teaching/scientific-data-analysis by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 06 Apr 2020 22:52:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1">
        <link rel="icon" href="../static/favicon.png"/>
        <title>scientific-data-analysis</title>
        <!--
        <link rel="stylesheet" href="/library/static/yeti-bootstrap.min.css">
        -->
        <link rel="stylesheet" href="../static/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="../static/css/fonts/fonts.css">
        <link rel=stylesheet href="../static/prism/prism.css">
        <link rel=stylesheet href="../static/client/css/app.css">
        <link rel=stylesheet href="../static/client/css/bookie.css">
    </head>

<body>
<div id="app"></div>
<div id="app-resources" style="display: none">
    <ul>
        
        <li><a href="index.clj">index.clj</a></li>
        
        <li><a href="versioning/index.html">versioning/index.clj</a></li>
        
        <li><a href="versioning/git/git-log.html">versioning/git/git-log.txt</a></li>
        
        <li><a href="versioning/git/blame.html">versioning/git/blame.txt</a></li>
        
        <li><a href="versioning/git/index.html">versioning/git/index.clj</a></li>
        
        <li><a href="versioning/github/index.html">versioning/github/index.clj</a></li>
        
        <li><a href="versioning/data_model/index.html">versioning/data_model/index.clj</a></li>
        
        <li><a href="python/index.html">python/index.clj</a></li>
        
        <li><a href="python/code-organization/index.html">python/code-organization/index.clj</a></li>
        
        <li><a href="python/data-structures/index.html">python/data-structures/index.clj</a></li>
        
        <li><a href="python/functional-python/index.html">python/functional-python/index.clj</a></li>
        
        <li><a href="python/plot/plot_tutorials.html">python/plot/plot_tutorials.html</a></li>
        
        <li><a href="python/plot/plot_tutorials-2.html">python/plot/plot_tutorials.ipynb</a></li>
        
        <li><a href="python/plot/index.html">python/plot/index.clj</a></li>
        
        <li><a href="python/jupyter/jupyter-notebook-blank.html">python/jupyter/jupyter-notebook-blank.png</a></li>
        
        <li><a href="python/jupyter/exec-order.html">python/jupyter/exec-order.png</a></li>
        
        <li><a href="python/jupyter/exec-order-2.html">python/jupyter/exec-order-2.png</a></li>
        
        <li><a href="python/jupyter/workflow.html">python/jupyter/workflow.png</a></li>
        
        <li><a href="python/jupyter/2018-09-01-Note-17-05.html">python/jupyter/2018-09-01-Note-17-05.xoj</a></li>
        
        <li><a href="python/jupyter/index.html">python/jupyter/index.clj</a></li>
        
        <li><a href="automation/index.html">automation/index.clj</a></li>
        
        <li><a href="automation/make/index.html">automation/make/index.clj</a></li>
        
        <li><a href="automation/scripting/index.html">automation/scripting/index.clj</a></li>
        
        <li><a href="env/index.html">env/index.clj</a></li>
        
        <li><a href="env/textproc/ex.html">env/textproc/ex.sh</a></li>
        
        <li><a href="env/textproc/redirect.html">env/textproc/redirect.sh</a></li>
        
        <li><a href="env/textproc/pipe.html">env/textproc/pipe.sh</a></li>
        
        <li><a href="env/textproc/index.html">env/textproc/index.clj</a></li>
        
        <li><a href="env/filesystems/4-cp-mv.html">env/filesystems/4-cp-mv.clj</a></li>
        
        <li><a href="env/filesystems/1-ls.html">env/filesystems/1-ls.clj</a></li>
        
        <li><a href="env/filesystems/3-mkdir.html">env/filesystems/3-mkdir.clj</a></li>
        
        <li><a href="env/filesystems/cd.html">env/filesystems/cd.sh</a></li>
        
        <li><a href="env/filesystems/2-cd.html">env/filesystems/2-cd.clj</a></li>
        
        <li><a href="env/filesystems/ls.html">env/filesystems/ls.sh</a></li>
        
        <li><a href="env/filesystems/ref.html">env/filesystems/ref.clj</a></li>
        
        <li><a href="env/filesystems/index.html">env/filesystems/index.clj</a></li>
        
        <li><a href="githubclassroom/index.html">githubclassroom/index.clj</a></li>
        
        <li><a href="numerical_python/index.html">numerical_python/index.clj</a></li>
        
        <li><a href="numerical_python/linalg/linalg.html">numerical_python/linalg/linalg.html</a></li>
        
        <li><a href="numerical_python/linalg/linalg-2.html">numerical_python/linalg/linalg.ipynb</a></li>
        
        <li><a href="numerical_python/linalg/index.html">numerical_python/linalg/index.clj</a></li>
        
        <li><a href="numerical_python/dataproc/weather-analysis.html">numerical_python/dataproc/weather-analysis.html</a></li>
        
        <li><a href="numerical_python/dataproc/index.html">numerical_python/dataproc/index.clj</a></li>
        
        <li><a href="numerical_python/plot/learn_matplotlib.html">numerical_python/plot/learn_matplotlib.html</a></li>
        
        <li><a href="numerical_python/plot/anatomy.html">numerical_python/plot/anatomy.png</a></li>
        
        <li><a href="numerical_python/plot/anatomy-2.html">numerical_python/plot/anatomy.webp</a></li>
        
        <li><a href="numerical_python/plot/index.html">numerical_python/plot/index.clj</a></li>
        
        <li><a href="numerical_python/stat/index.html">numerical_python/stat/index.clj</a></li>
        
        <li><a href="numerical_python/ndarrays/index.html">numerical_python/ndarrays/index.clj</a></li>
        
        <li><a href="intro/index.html">intro/index.clj</a></li>
        
        <li><a href="pandas/index.html">pandas/index.clj</a></li>
        
        <li><a href="pandas/basic-api/basic-api.html">pandas/basic-api/basic-api.html</a></li>
        
        <li><a href="pandas/basic-api/index.html">pandas/basic-api/index.clj</a></li>
        
        <li><a href="pandas/basic-api/src/weather_madrid_lemd_1997_2015.csv.html">pandas/basic-api/src/weather_madrid_lemd_1997_2015.csv.zip</a></li>
        
        <li><a href="pandas/basic-api/src/basic-api.html">pandas/basic-api/src/basic-api.ipynb</a></li>
        
        <li><a href="pandas/dataframe/index.html">pandas/dataframe/index.clj</a></li>
        
        <li><a href="pandas/dataframe/dataframe-example-1.html">pandas/dataframe/dataframe-example-1.html</a></li>
        
        <li><a href="pandas/aggregation/tutorial-2.html">pandas/aggregation/tutorial-2.html</a></li>
        
        <li><a href="pandas/aggregation/index.html">pandas/aggregation/index.clj</a></li>
        
        <li><a href="pandas/series/index.html">pandas/series/index.clj</a></li>
        
    </ul>
</div>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    elements: [],
    skipStartupTypeset: true,
    /*
    "HTML-CSS": {
        scale: 83,
    },
    */
    //showMathMenu: false,
    //zoom: "None",
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true,
      skipTags: ["script", 
      "noscript", 
      "style", 
      "textarea", 
      "nomath", 
      //"pre",
      ],
      // nomathjax used by (code ...) component
      ignoreClass: "nomath|nomathjax|tex2jax_ignore", 
    },
    /*
    TeX: {
        equationNumbers: {autoNumber: "AMS"},
    },
    */
  });
</script>
<script>
(function() {
var throttle = function(type, name, obj) {
    obj = obj || window;
    var running = false;
    var func = function() {
        if (running) { return; }
        running = true;
         requestAnimationFrame(function() {
            obj.dispatchEvent(new CustomEvent(name));
            running = false;
        });
    };
    obj.addEventListener(type, func);
};
throttle("resize", "__resize__");
throttle("scroll", "__scroll__");
})();
</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
    <!--
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    -->
<!--
Prism from CDN does not come with line number plugin
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js"></script>
-->
<script src="../static/prism/prism.js"></script>
<script src="../static/prism/prism-extension.js"></script>
<script src="../static/client/main.js"></script>

<script>
    var sitemap = {"": {"children": ["automation", "env", "githubclassroom", "intro", "numerical_python", "pandas", "python", "versioning"], "content": "{:title \" Scientific Data Analysis\"\n :label \"2000\"\n :rank \"2000\"\n :categories [\"course\"]\n :summary #md {{{\n           The principal goal of this course is to build computational skills\n           required for analyzing scientific data in a variety of data formats\n           (e.g. CSV, text, binary, sound, image, etc.). Topics include:\n           automation of data analysis tasks using command-line user interfaces\n           (e.g., the Unix shell); managing code and data using a version\n           control system; modular programming for scientific data analysis;\n           debugging and testing scientific software; plotting data (i.e., two-\n           and three-dimensional graphics.)\n                 }}}\n }\n", "istop": false, "path": ""}, "automation": {"children": ["automation/make", "automation/scripting"], "content": "{:title \"Automation\"\n :rank 2\n :summary #md {{{\n                 We will cover how to document and automate repetitive workflows\n                 using SHELL scripting and Makefiles.  This allows easy-to-maintain\n                 and reproducible environments for data generation and analytics.\n                 }}}\n }\n", "istop": false, "path": "automation"}, "automation/make": {"children": [], "content": "{:title \"Make files\"\n :rank 4\n :summary #md {{{\n                 We cover _Makefile_ and make.  It allows us to specify workflow in\n                 a reproducible way.\n                 }}}\n }\n\n(page (:h1 \"What is a Makefile?\")\n\n      (rows 4 8\n            (:h2 \"The make command\")\n            (:div #md {{{\n                         `make` is a UNIX command that first appeared in\n                         April 1976, over 40 years ago.\n                         }}}\n                  #md {{{\n                         *Make* is a build automation tool.  It describes\n                         _recipes_ in producing software artifacts.\n                         }}}\n                  #md {{{\n                         A makefile is a text file describing various artifacts,\n                         their respective recipes, and their dependencies.\n                         }}}\n                  #md {{{\n                         *Make* figures out the _optimal_ way to build\n                         the artifacts.\n                         }}}\n                  )\n\n            (:h2 \"Overview of a makefile\")\n            (:div #md {{{\n                         The `make` command will follow the recipes given\n                         in a ___makefile___.\n\n                         - A makefile is a text file.\n                         - It can have any filename, but the convention is\n                         `Makefile`.\n                         }}}\n                  )\n            (:h2 \"Targets\")\n            (:div #md {{{\n                         Targets are artifacts to be produced:\n\n                         0. An existing physical file or directory in the file system.\n                         1. A physical file or directory to be created.\n                         2. An abstract task to perform.\n                         }}}\n                  #md {{{\n                         Targets can have other targets as dependencies.\n                         }}})\n\n            (:h2 \"Commands\")\n            (:div #md {{{\n                         Each target must have zero or more commands to produce\n                         the target.\n                         }}}\n                  \n                  #md {{{\n                         ***Target, dependencies and commands***\n\n                         ```\n                                          +--------------+\n                                          |              |\n                         dependency_1 ---\u003e+ command_1    |\n                                          | command_2    +---\u003e target\n                         dependency_2 ---\u003e+ ...          |\n                                          |              |\n                                          +--------------+\n                         ```\n                         }}})\n            )\n      )\n\n(page (:h1 \"Syntax of Makefile\")\n\n      #md {{{\n             Makefile is just a plain text file.  So, just like SHELL scripts,\n             we can develop makefiles using text editors.\n             }}}\n\n      \n      (rows 4 8\n            (:h2 \"Targets\")\n            (:div (code {:lang :bash\n                         :label \"Makefile\"}\n                        {{{\n                          # Declare a target and its commands.\n                          t1:\n                              echo Hello \n                              echo world\n                          }}})\n                  (box #md {{{\n                              ***Important***\n                              \n                              *All* commands must be indented by the \u003cTAB\u003e\n                              character.  So it *cannot* be just spaces.\n                              }}})\n                  #md {{{\n                         We execute Makefiles with the `make` command.\n\n                         ```\n                         \\$ ls\n                         Makefile\n\n                         \\$ make t1\n                         echo Hello\n                         Hello\n                         echo world\n                         world\n                         ```\n                         }}}\n                  #md {{{\n                         By default, `make` shows the commands as well as their outputs.\n                         }}})\n\n            (:h2 \"Dependencies\")\n            (:div (code {:lang :bash\n                         :label \"Makefile\"}\n                        {{{\n                           target: dependency_1 dependency_2 dependency_3 ...\n                               command_1\n                               command_2\n                               ...\n                           }}})\n                  (codewalk\n                    {{{\n                      # ====================================\n\t\t\t\t\t  # The makefile defines four targets\n\t\t\t\t\t  # with dependencies\n                      # ====================================\n\t\t\t\t\t  $ cat Makefile\n\t\t\t\t\t  t1 : t2 t3\n\t\t\t\t\t\t\t  echo Making t1\n\n\t\t\t\t\t  t2 : t4\n\t\t\t\t\t\t\t  echo Making t2\n\n\t\t\t\t\t  t3 t4 :\n\t\t\t\t\t\t\t  echo Making t3 or t4\n\n                      # ================================\n                      # We make target `t1`\n                      # ================================\n\t\t\t\t\t  $ make t1\n\n                      # ================================\n                      # Does this make sense to you?\n                      # - Draw the dependency diagram.\n                      # - Make performs the dependencies first\n                      #   then the target.\n                      # ================================\n\t\t\t\t\t  echo Making t3 or t4\n\t\t\t\t\t  Making t3 or t4\n\t\t\t\t\t  echo Making t2\n\t\t\t\t\t  Making t2\n\t\t\t\t\t  echo Making t3 or t4\n\t\t\t\t\t  Making t3 or t4\n\t\t\t\t\t  echo Making t1\n\t\t\t\t\t  Making t1\n                       }}})\n                  )\n\n            (:h2 \"Rules\")\n            (:div #md {{{\n                         A _rule_ is the definition consisting of:\n\n                         - the target\n                         - zero or more dependencies\n                         - the list of commands\n                         }}})\n\n            (:h2 \"Abstract vs concrete targets\")\n            (:div #md {{{\n                         A concrete target:\n\n                         \u003e is a **single** physical path in the file system.\n                        }}}\n                  #md {{{\n                         An abstract target:\n\n                         \u003e is a task that does not correspond to any single path.\n                         \u003e\n                         \u003e 1. May generate multiple paths in the file system.\n                         \u003e 2. or may not associate with **any** paths in the file system.\n                         }}}\n                  #md {{{\n                         ***Why distinguish the two?***\n\n                         \u003e When `make` is processing a target, it tries to determine\n                         \u003e if the target is _up-to-date_.\n                         }}}\n                  #md {{{\n                         ***Up-to-date***\n\n                         Consider the rule.\n\n                         \u003e ```\n                         \u003e $t : d_1 d_2 \\dots d_n$\n                         \u003e    commands\n                         \u003e ```\n\n                         ***If all the targets are concrete***, then they all have\n                         timestamps.\n\n                         \u003e $t$ is up-to-date if:\n                         \u003e $$ \\forall i,\\;\\mathrm{timestamp}(t) \\geq \\mathrm{timestamp}(d_i) $$\n                         }}}\n                  (box #md {{{\n                              ***Concrete targets***\n\n                              \u003e `timestamp(target)` is the last modified timestamp of the path\n                              \u003e reported by the file system.\n                              }}}\n                       #md {{{\n                              ***Abstract targets***\n\n                              1. abstract targets are ***never*** up-to-date.\n                                 \u003e So building abstract targets always requires executing\n                                 \u003e the commands.\n                              2. concrete targets are ***never*** up-to-date if\n                              it depends on an abstract target.\n                              }}})\n                  )\n            (:h2 \"Phony targets\")\n            (:div #md {{{\n                         By default, `make` assumes all targets are concrete targets.\n\n                         \u003e What if `clean` is an abstract target, but it might also\n                         exists on the disk?\n                         }}}\n                  #md {{{\n                         We can *declare* targets to be abstract.  They are called _phony_ targets.\n\n                         \u003e ```\n                         \u003e .PHONY: all clean install\n\n                         \u003e all:\n                         \u003e    # compile everything\n\n                         \u003e clean:\n                         \u003e    # clean up\n\n                         \u003e install: all\n                         \u003e    # if all is done, we\n                         \u003e    # can perform installation\n                         \u003e ```\n                         \u003e }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Variables in Makefile\")\n\n      #md {{{\n             Make supports variables.  They work very similar to SHELL variables, but with a number of\n             syntactic differences.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Why need variables?\")\n            #md {{{\n                   Variables help to avoid repetition in specifying commands\n                   of different targets.\n                   }}}\n\n            (:h2 \"Setting variables\")\n            #md {{{\n                   Variables in Makefile have a friendier syntax:\n\n                   \u003e ```\n                   \u003e compiler = gccc\n                   \u003e ```\n\n                   It allows spaces around `=` sign.\n                   }}}\n\n            (:h2 \"Referencing variables in commands\")\n            #md {{{\n                   You must enclose variable names with parentheses.\n\n                   \u003e ```\n                   \u003e compiler = gcc\n                   \u003e\n                   \u003e hello : hello.c\n                   \u003e     $(compiler) -o hello hello.c\n                   \u003e ```\n                   }}}\n            )\n      )\n\n(page (:h1 \"Reference\")\n      #md {{{\n             https://makefiletutorial.com/\n             }}})\n", "istop": false, "path": "automation/make"}, "automation/scripting": {"children": [], "content": "{:title \"SHELL Scripting\"\n :rank 3\n :summary #md {{{\n                 We will cover basic programming constructs\n                 in SHELL scripts to perform repetitive \n                 tasks with automation.\n                 }}}\n }\n\n(page (:h1 \"About scripts\")\n\n      (rows 4 8\n            (:h2 \"Why scripting?\")\n            (:div #md {{{\n                         - Perform repetive tasks with automation\n                         - Describe workflow in a reproducible format\n                         - Utilize UNIX shell as a programming language for more sophisticated tasks\n                         }}}\n                  )\n\n            (:h2 \"How to write scripts?\")\n            #md {{{\n                   1. Write a text file containing the script.\n                   2. Make the script executable\n                   3. Run the script\n                   }}}\n            )\n      )\n\n(page (:h1 \"A very simple script\")\n      (rows 4 8\n            (:h2 \"The script\")\n            (:div #md {{{\n                         Your script will take one argument, and display\n                         a greeting message.}}}\n                  (code :bash\n                        :line-number\n                        {:label \"hello.sh\"}\n                        {{{\n                           #!/bin/bash\n                           \n                           # This is a simple script\n                           \n                           name=$1\n                           echo \"Hello there: $name\" \n                           }}}))\n\n            (:h2 \"Making it executable\")\n            (:div #md {{{\n                         We need to mark the script as executable.\n\n                         ```\n                         chmod a+x hello.sh\n                         ```\n\n                         \u003e The `chmod` changes the mode of the file.\n                         \u003e\n                         \u003e ```\n                         \u003e chmod   a     +      x          hello.sh\n                         \u003e |       |     |      |          |\n                         \u003e change  |     |      |          file to\n                         \u003e mode    |     |      |          apply the\n                         \u003e         all   |      |          mode\n                         \u003e         users |      |\n                         \u003e               enable |\n                         \u003e                      executable\n                         \u003e                      mode\n                         \u003e ```\n                         }}}\n                  #md {{{\n                         One can check the mode of files using `ls -l` command:\n\n                         \u003e ```\n                         \u003e ls -l hello.sh\n                         \u003e -rwxr-xr-x  1 kenpu  staff  42 13 Jun 17:30 hello.sh\n                         \u003e ```}}})\n            (:h2 \"Running it\")\n            (:div #md {{{\n                         We can run it.\n\n                         \u003e ```\n                         \u003e  $ ./hello.sh Einstein\n                         \u003e  Hello, Einstein\n                         \u003e ```\n                         }}})\n\n            (:h2 \"Command line vs SHELL\")\n            (:div #md {{{\n                         - ***Command line***\n\n                             Command line is to support an interactive experience.\n                             The command sequences are not easily reproducible.\n\n                         - ***Scripts***\n\n                             Scripts are highly reproducible.\n                         }}}\n                  #md {{{\n                         Both command line and scripts use the *same* evaluation engine -- the UNIX SHELL.\n\n                         Therefore, \n                         \n                         1. all scripting constructs can be used interactive.\n                         2. all commands can be used as part of the scripts.\n                         }}}\n                  #md {{{\n                         In fact, the boundary between commands and scripts almost do not exist.\n                         }}})\n            )\n      )\n\n(page (:h1 \"Variables\")\n\n      (rows 4 8\n            (:h2 \"Creating variables\")\n            (code {{{\n                     name=\"Ken Pu\"\n                     office=UA4041\n                     email=\"ken.pu@uoit.net\"\n                     }}})\n\n            (:h2 \"Evaluating variables\")\n            (code {:lang :bash}\n                  {{{\n                     echo $name\n\n                     # Evaluation still happens in double quoted string\n                     echo \"$name can be found at $office, or reached at $email\"\n\n                     # Single quote suppresses evaluation\n                     echo \u0027$name can be found at $office, or reached at $email\u0027\n                     }}})\n\n            (:h2 \"Assigning values\")\n            (code {:lang :bash}\n                  {{{\n                     first_name=\"Albert\"\n                     last_name=\"Einstein\"\n                     full_name=\"$first_name $last_name\"\n                     }}})\n\n            (:h2 \"A lot more about variables\")\n            (:div #md {{{\n                         SHELL has a _rich_ collection of features to support automation and scripting.\n                         These features are developed over several decades, and the result is a huge collection\n                         of miscellaneous syntatic constructs.\n                         }}}\n                  #md {{{\n                         It\u0027s a continous learning process when working in the UNIX environment.\n\n                         https://www.tldp.org/LDP/abs/html/string-manipulation.html\n                         }}}\n                  (code {:lang :bash}\n                        {{{\n                           # making the variable available to all \n                           # child processes of the current shell session\n                           export message=\"hello world\"\n                          }}})\n                  (code {:lang :bash}\n                        {{{\n                           # evaluate the variable by applying \n                           # string transformation\n\n                           filename=\"old_photo.jpeg\"\n\n                           # the variable string length\n                           echo ${#filename} # =\u003e 14\n\n                           # substring\n                           echo ${filename:4} # =\u003e photo.jpeg\n                           echo ${filename:4:5} # =\u003e photo\n                           echo ${filename:(-4)} # =\u003e .jpeg\n                           }}})\n                  (code {:lang :bash}\n                        {{{\n                           # extracts part of the string using\n                           # simple patterns\n\n                           filename=\"old_photo_kenpu.jpeg\"\n\n                           # remove shortest match from front\n                           echo ${filename#*_} # =\u003e photo_kenpu.jpeg\n\n                           # remove longest match from the front\n                           echo ${filename##*_} # =\u003e kenpu.jpeg\n\n                           # remove shortest match from the back\n                           echo ${filename%.*} # =\u003e old_photo_kenpu\n                           echo ${filename%_*.*} # =\u003e old_photo\n\n                           # remove longest match from the back\n                           echo ${filename%%_*.*} # =\u003e old\n                           }}})\n\n                  (code {:lang :bash}\n                        {{{\n                           # Putting it together\n                           # \"quick\" way to rename a single file\n                           filename=\"old_photo_kenpu.jpeg\"\n\n                           new_filename=$filename              # old_photo_kenpu.jpeg\n                           new_filename=new_${new_filename#*_} # new_photo_kenpu.jpeg\n                           new_filename=${new_filename%.*}.jpg # new_photo_kenpu.jpg\n\n                           mv $filename $new_filename\n                           }}})\n                  )\n            (:h2 \"Capture results from commands with variables\")\n            (:div #md {{{\n                         We can capture the stdout of some command\n                         and save it as the value of a variable.\n                         }}}\n                  (code {:lang :bash}\n                        {{{\n                           # this command counts the number of\n                           # files in a directory using\n                           # `ls` and `wc`.\n\n                           ls /usr/bin | wc -l\n\n                           # we can capture the output and\n                           # save it in a variable\n                           num_commands=$(ls /usr/bin | wc -l)\n\n                           echo \"There are $num_commands commands.\"\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"Conditions\")\n\n      (rows 4 8\n            (:h2 \"Exit status\")\n            #md {{{\n                   Each program executed by the operating system\n                   returns an ***exit status***, also known as ***exit code***.\n\n                   - exit status 0 means no error.\n                   - all other exit status values are considered to indicate error.\n                   }}}\n            (:h2 \"Capturing exit status\")\n            (:div #md {{{\n                         The most recent exit status is accessible by\n                         a special variable `$?`.\n                         }}}\n                  (code {:lang :bash}\n                        {{{\n                           ls /bin/bash\n                           echo $? # =\u003e 0\n\n                           ls /bin/blah\n                           echo $? # =\u003e 1\n                           }}}))\n            )\n\n      #md {{{\n             SHELL has special syntax that evaluates boolean\n             conditions, and the boolean value is returned as ___exit status___.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Integer comparison\")\n            (code {:lang :bash}\n                  {{{\n                     # less than\n                     [[ 1 -lt 2 ]]\n\n                     # greater than\n                     [[ 2 -gt 1 ]]\n\n                     # less or equal\n                     [[ 1 -le 2 ]]\n\n                     # greater or equal\n                     [[ 2 -ge 1 ]]\n\n                     # equal\n                     [[ 1 -eq 1 ]]\n\n                     # not equal\n                     [[ 1 -ne 2 ]]\n                     }}})\n\n            (:h2 \"Boolean expression as exit status\")\n            (:div #md {{{\n                         These expressions are actually *commands*,\n                         and the result is given as their exit status:\n\n                         - exit code == 0 $\\to$ true\n                         - exit code == 1 $\\to$ false\n                         }}}\n                  (code {:lang :bash}\n                        {{{\n                           [[ 1 -lt 2 ]]\n                           echo $? # =\u003e 0\n\n                           [[ 1 -gt 2 ]]\n                           echo $? # =\u003e 1\n                           }}}))\n\n            (:h2 \"More boolean comparisons\")\n            (:div (:h2 \"String comparison\")\n                  (code {:lang :bash}\n                         {{{\n                           [[ -z string      ]]\n                           [[ expr1 = expr2  ]]\n                           [[ expr1 == expr2 ]]\n                           [[ expr1 != expr2 ]]\n                           [[ expr1 \u003e expr2  ]]\n                           [[ expr1 \u003c expr2  ]]\n                           }}})\n                  (code {{{\n                           # Testing against a regular expression\n                           [[ expr =~ regexp ]]\n                           }}})\n                  (:h2 \"File tests\")\n                  (code {:lang :bash}\n                        {{{\n                           [[ -e path ]]  # path exists\n                           [[ -f path ]]  # path exists and is a file\n                           [[ -d path ]]  # path exists and is a directory\n                           [[ -s path ]]  # path exists and has non-zero size\n                           [[ -r path ]]  # path is readable\n                           [[ -w path ]]  # path is writable\n                           [[ -x path ]]  # path is executable\n                           }}}))\n\n            (:h2 \"Combining conditions\")\n            (:div #md {{{\n                         We can combine multiple conditions.\n                         }}}\n                  (code {:lang :bash}\n                        {{{\n                           [[ cond1 \u0026\u0026 cond2 ]]\n                           [[ cond1 || cond2 ]]\n                           [[ ! cond ]]\n                           }}}))\n            )\n      )\n\n(page (:h1 \"If-Else\")\n\n      (rows 4 8\n            (:h2 \"A 50-year old syntax\")\n            #md {{{\n                   SHELL provides if-else flow control.  The general syntax is:\n\n                   \u003e \u003cpre\u003e\u003ccode\u003e\n                   \u003e if \u003ci\u003ecommand\u003c/i\u003e\n                   \u003e then\n                   \u003e    \u003ci\u003eblock1\u003c/i\u003e\n                   \u003e else\n                   \u003e    \u003ci\u003eblock2\u003c/i\u003e\n                   \u003e fi\n                   \u003e \u003c/code\u003e\n                   \u003e \u003c/pre\u003e\n                   }}}\n            (:h2 \"Semantics\")\n            #md {{{\n                   - If the command returns without error, (error status = 0),\n                   then _block1_ will be executed.\n\n                   - If the command returns with error, (error status $\\not=$ 0),\n                   then _block2_ will be executed.\n                   }}})\n      )\n\n(page (:h1 \"While Loop\")\n\n      (rows 4 8\n            (:h2 \"Syntax\")\n            #md {{{\n                   The general syntax for the while loop is given as:\n\n                   \u003e \u003cpre\u003e\u003ccode\u003e\n                   \u003e while \u003ci\u003ecommand\u003c/i\u003e\n                   \u003e do\n                   \u003e   \u003ci\u003eblock\u003c/i\u003e\n                   \u003e done\n                   \u003e \u003ccode\u003e\n                   \u003e \u003c/pre\u003e\n                   }}}\n            (:h2 \"Semantics\")\n            #md {{{\n                   The command is executed repeatedly.  Each time the command returns without error (exit status = 0),\n                   the block is executed.\n\n                   The block break out of the loop with:\n\n                   \u003e ```\n                   \u003e break\n                   \u003e ```\n                   }}})\n      )\n\n(page (:h1 \"Iteration\")\n\n      #md {{{\n             Iteration is done with `for-do-done`, which is significantly different from the `while-do-done` syntax.\n             For loop requires iterating over lists.\n             }}}\n\n      (rows 4 8\n\n            (:h2 \"Iterating fixed list\")\n            (:div (code {:lang :bash}\n                        {{{\n                           for word in \"hello\" \"world\" \"again\"\n                           do\n                             echo $word\n                           done\n                           }}})\n                  (code {:lang :bash}\n                        {{{\n                           for w in hello world again; do echo $w; done\n                           }}}))\n\n            (:h2 \"Iterating over a range of integers\")\n            (:div (code {:lang :bash}\n                        {{{\n                           for i in {1..100}\n                           do\n                             echo $i\n                           done\n                           }}}))\n\n            (:h2 \"Iterating over lines of command output\")\n            (:div (code {:lang :bash}\n                        {{{\n                           for f in $(ls /)\n                           do\n                             echo \"file in root:\" $f\n                           done\n                           }}}))\n            )\n      )\n", "istop": false, "path": "automation/scripting"}, "env": {"children": ["env/filesystems", "env/textproc"], "content": "{:title \"Environment\"\n :rank 1\n :summary #md {{{\n                 This section focuses on the working environment for scientific data analysis.\n                 The environment is based on the UNIX operating system.\n                 We will cover basic elements of working in a UNIX environment\n                 such as managing processes, files in the file system using the\n                 command line SHELL.  We will cover shell scripting using BASH and Python\n                 with text editors.\n                 }}}\n }\n\n\n", "istop": false, "path": "env"}, "env/filesystems": {"children": [], "content": "{:title \"Working with the file system\"\n :rank 1\n :summary #md {{{\n                 We will cover the basic commands to interact\n                 with the UNIX file system.\n                 }}}\n }\n(page :wide\n      (:h1 \"Listing files and directories\")\n\n      (file :codewalk {:filename \"List files\"} \"ls.sh\"))\n\n\n(page :wide\n      (:h1 \"Navigating the filesystem\")\n\n      (rows :sep\n            4 8\n            (:h2 \"File system is a tree\")\n            (:div #md {{{\n                         Files are organized into a (very large) tree.\n\n                         - The leaves of the tree are _regular files_.\n                         - The intermediate nodes of the tree are _directories_.\n                           \u003e Each directory can contain _zero_ or more files.\n                         }}}\n                  (:pre\n                        {{{\n                           /home/kenpu/anaconda3\n                           \u251c\u2500\u2500 Anaconda-Navigator.app\n                           \u2502\u00a0\u00a0 \u2514\u2500\u2500 Contents\n                           \u2502\u00a0\u00a0     \u251c\u2500\u2500 MacOS\n                           \u2502\u00a0\u00a0     \u2514\u2500\u2500 Resources\n                           \u251c\u2500\u2500 bin\n                           \u2502\u00a0\u00a0 \u251c\u2500\u2500 Assistant.app\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Contents\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 MacOS\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 Resources\n                           \u2502\u00a0\u00a0 \u251c\u2500\u2500 Designer.app\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Contents\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 MacOS\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 Resources\n                           \u2502\u00a0\u00a0 \u251c\u2500\u2500 Linguist.app\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Contents\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 MacOS\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 Resources\n                           \u2502\u00a0\u00a0 \u251c\u2500\u2500 pixeltool.app\n                           \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 Contents\n                           }}})\n                  )\n            (:h2 \"cd - change directory\")\n            #md {{{\n                   We can only be at a specific directory.\n                   It\u0027s known as the _present working directory_ (PWD).\n\n                   The `cd` command allows us to navigate to different\n                   parts of the file system tree by changin the PWD.\n                   }}}\n            )\n      (file :codewalk {:filename \"\"} \"cd.sh\"))\n(page (:h1 \"Making directories\")\n\n      (rows 4 8\n            (:h2 \"General command\")\n\n            #md {{{\n                   The UNIX command `mkdir` creates empty directories.\n\n                   The general syntax is given by:\n\n                   ```\n                   mkdir [options] \u003cpath\u003e\n                   ```\n\n                   This will create an empty directory\n                   }}}\n\n            (:h2 \"Useful option\")\n            #md {{{\n                   ```\n                   mkdir -p \u003cpath\u003e\n                   ```\n\n                   The `-p` option creates the directory\n                   and all ancestor directories if they do not exist\n                   already.\n                   }}}\n\n            (:h2 \"Path\")\n            #md {{{\n                   The path is specified as either _absolute_ or _relative_ paths,\n                   as for the `cd` command.\n                   }}}\n            )\n      )\n(page (:h1 \"Copying files and directories\") \n      #md {{{ \n             We will cover the copy and move commands.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Copying files\")\n            (:div #md {{{\n                         We can make duplicates of existing data.\n                         }}}\n\n                  #md {{{\n                         Copy one (source) file or files to a new (target) location.\n\n                         - The copied file _still exists_ after copying.\n                         - The target location _must already exist_.\n\n                         ```\n\n                         \u003csource files...\u003e  ==\u003e \u003ctarget directory\u003e\n                         ```\n                         }}}\n                  )\n\n            (:h2 \"The cp command\")\n            (:div #md {{{\n                         The `cp` command makes copies of files or directories.\n                         }}}\n                  #md {{{\n                         Copying a single file:\n\n                         ```\n                         cp \u003csource file\u003e \u003ctarget file\u003e\n                         ```\n\n                         where source file and target files are given as\n\n                         - relative paths\n                         - or absolute paths\n                         }}}\n                  #md {{{\n                         We can also copy multiple files into a given directory:\n\n                         ```\n                         cp \u003cfile1\u003e \u003cfile2\u003e ... \u003ctarget directory\u003e\n                         ```\n\n                         \u003e The last argument must be an existing directory.\n\n                         This will create multiple duplicates of these files in the target directory.\n                         }}}\n                  #md {{{\n                         We can also make copies of _entire_ directories.  This is done\n                         using the `-r` option.\n\n                         `cp -r \u003csource directory\u003e \u003ctarget directory\u003e`\n\n                         - If `\u003ctarget directory\u003e` does **NOT** exist, then:\n\n                           \u003e a copy of `\u003csource directory\u003e` will be created as the\n                           \u003e `\u003ctarget directory\u003e`.\n\n                         - If `\u003ctarget directory\u003e` **already exists**, then:\n\n                           \u003e a copy of `\u003csource directory\u003e` will be created **inside**\n                           \u003e the existing `\u003ctarget directory\u003e`.\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Moving and renaming files\")\n\n      #md {{{\n             UNIX treats moving files from one path to another and renaming a file\n             uniformly using the `mv` command.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Moving and renaming file\")\n            (:div #md {{{\n                         ```\n                         mv \u003csource file\u003e \u003ctarget file\u003e\n                         ```\n\n                         - This renames the source file to the target file.\n                         - The source file will *no longer* exist after the move.\n                         - This will **OVERWRITE** the target file if it already existed.\n                         }}})\n\n            (:h2 \"Moving multiple files to directory\")\n            (:div #md {{{\n                         ```\n                         mv \u003cfile1\u003e \u003cfile2\u003e ... \u003ctarget directory\u003e\n                         ```\n\n                         This moves multiple files to the target directory.  The target\n                         directory must **already exist**.\n                         }}})\n\n            (:h2 \"Moving directories\")\n            (:div #md {{{\n                         ```\n                         mv \u003csource directory\u003e \u003ctarget directory\u003e\n                         ```\n\n                         - If target directory **already exists**:\n                           \n                           \u003e move source directory to **inside** the target directory.\n\n                         - If target directory **does not exist**:\n                           \n                           \u003e move the source directory to become the target directory.\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Removing files\")\n\n      #md {{{\n             The `rm` command removes files and directories from the file system.\n             }}}\n\n      (box #md {{{\n                  **Warning**:\n\n                  There is no recovery for accidental deletions.\n                  }}})\n\n      (rows 4 8\n            (:h2 \"Removing a file\")\n            #md {{{\n                   ```\n                   rm \u003cfile\u003e\n                   ```\n                   }}}\n\n            (:h2 \"Removing a directory and all its content\")\n            #md {{{\n                   ```\n                   rm -r \u003cdirectory\u003e\n                   ```\n                   }}}\n\n            (:h2 \"Removing multiple paths\")\n            #md {{{\n                   ```\n                   rm -f \u003cfile\u003e \u003cdirectory\u003e \u003cfile\u003e \u003cdirectory\u003e ...\n                   ```\n                   }}}\n\n            (:h2 \"Forceful removal\")\n            #md {{{\n                   ```\n                   rm -rf ...\n                   ```\n                   }}}\n            )\n      )\n(page (:h1 \"Reference\")\n      #md {{{\n             - TutorialPoints: https://www.tutorialspoint.com/unix/\n             - BASH Beginners Guide: https://drive.google.com/file/d/1H-tupXHpv2fRcbiGsEhse-LBWftxafZ6/view?usp=sharing\n             }}}\n      )\n", "istop": false, "path": "env/filesystems"}, "env/textproc": {"children": [], "content": "{:title \"Text processing in SHELL\"\n :rank 2\n :summary #md {{{\n                 We will cover how text processing can be done\n                 in SHELL using a combination of commands\n                 and pipes and redirections.\n                 }}}\n }\n\n(page (:h1 \"Text process in UNIX\")\n\n      (rows 4 8\n            (:h2 \"Text processing\")\n            (:div #md {{{\n                         - Text is still the dominant format for scientific data files.\n                         - UNIX provides a _rich_ set of features and commands for\n                         text processing.\n                         }}}\n                  )\n\n            (:h2 \"Input to text processing commands\")\n            (:div #md {{{\n                         Many commands process input text.\n\n                         - `cat`: outputs the input text verbatim.\n                         - `grep`: outputs the lines that match a _regular expression_ pattern.\n                         - `sort`: outputs the input text file in a sorted order.\n                         - `wc`: counts the characters, words and lines of the input text.\n                         }}}\n                  #md {{{\n                         A lot more:\n\n                         - `cut`\n                         - `paste`\n                         - `uniq`\n                         - `head`\n                         - `tail`\n                         - `tee`\n                         - ...\n                         }}})\n            )\n      )\n\n(page (:h1 \"Single stage text processing\")\n\n      #md {{{\n             Let\u0027s look at simple text processing commands.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Examining file\")\n            (:div #md {{{\n                         ```\n                         head --lines=\u003cnum\u003e \u003cfile\u003e\n                         ```\n\n                         Prints the first `\u003cnum\u003e` lines from the file.\n                         }}}\n                  #md {{{\n                         ```\n                         tail --lines=\u003cnum\u003e \u003cfile\u003e\n\n                         Prints the last `\u003cnum\u003e` lines from the file.\n                         ```\n                         }}})\n\n            (:h2 \"Sorting\")\n            (:div #md {{{\n                         ```\n                         sort \u003cfile\u003e\n                         ```\n\n                         Outputs the lines in the `\u003cfile\u003e` in sorted order. The ordering is\n                         alphabetic sorting.\n                         }}}\n                  #md {{{\n                         ```\n                         sort -n \u003cfile\u003e\n                         ```\n\n                         Outputs the lines in the `\u003cfile\u003e` in sorted order, but uses\n                         numerical sorting.\n                         }}}\n                  #md {{{\n                         ```\n                         sort -k \u003ccolumn\u003e \u003cfile\u003e\n                         ```\n\n                         Outputs the lines in sorted order according to the ranking\n                         of the `\u003ccolumn\u003e`.\n                         }}})\n            )\n      )\n\n(page :wide\n      (:h1 \"Examples\")\n\n      (file :codewalk {:filename \"\"} \"ex.sh\"))\n\n(:h1 \"Redirection\")\n\n(page (:h1 \"Standard I/O\")\n\n      #md {{{\n             Commands can be seen as a blackbox:\n\n             ```\n                            +---------+\n             --- input ---\u003e | command | --- output ---\u003e\n                            +---------+\n             ```\n             }}}\n\n      #md {{{\n             So far, \n             \n             - the inputs are the input file.\n             - the output is displayed to the console.\n             }}}\n\n      (box #md {{{\n                  **Redirection**\n\n                  \u003e Redirection deals with *connecting*\n                  \u003e the input and output with the file system.\n                  }}})\n\n      (rows 4 8\n\n            (:h2 \"The standard input\")\n            (:div #md {{{\n                         _stdin_ is a special read-only \"file\".  It\u0027s not associated with\n                         any files in the file sytem.  By default stdin is connected\n                         to the keyboard.\n\n                         Keystrokes are accessed by reading from stdin.\n                         }}}\n\n                  #md {{{\n                         UNIX commands are configured to read from stdin\n                         if the input file is not specified.\n                         }}}\n\n                  #md {{{\n                         stdin has a _file descriptor_ value of 0.\n                         }}}\n                  )\n\n            (:h2 \"The standard output\")\n            (:div #md {{{\n                         _stdout_ is also special write-only \"file\" which is _not_ part of the file system.\n\n                         By default, stdout is connected to the terminal display.\n                         }}}\n                  #md {{{\n                         UNIX commands are configured to _almost always_ output to\n                         stdout.\n                         }}}\n                  #md {{{\n                         stdout has a _file descriptor_ value of 1.\n                         }}}\n                  )\n\n            (:h2 \"The standard error\")\n            (:div #md {{{\n                         _stderr_ is similar to _stdout_.  It\u0027s write-only, and not part of the file system.\n\n                         By default, stderr is connected to the terminal display (just like stdout).\n                         }}}\n\n                  #md {{{\n                         UNIX commands _always_ output error messages to stderr.\n                         }}}\n                  #md {{{\n                         stderr has a _file descriptor_ value of 2.\n                         }}})\n            )\n      )\n\n(page (:h1 \"Redirection\")\n\n      (rows 4 8\n\n            (:h2 \"Input redirection\")\n            (:div #md {{{\n                         We want to redefine the standard input of a command\n                         as an existing file from the file system.\n                         }}} \n                  #md {{{\n                         ```\n                                                  +---------+\n                         \u003cfile\u003e --- redirect ---\u003e | command | --- ...\n                                                  +---------+\n                         ```\n                         }}} \n                  #md {{{\n                         UNIX SHELL supports the redefinition of the stdin of\n                         commands using _redirection_.\n                         }}}\n\n                  #md {{{\n                         ***Syntax*** for input redirection\n\n                         ```\n                         $ command \u003c file\n                         ```\n                         }}}\n                  )\n\n            (:h2 \"Output redirection\")\n            (:div #md {{{\n                         We can also redefine the stdout to be an output file in the file system.\n                         The output file _does not_ need to exist already.\n                         }}}\n                  #md {{{\n                         ```\n                                  +---------+\n                         ... ---\u003e | command | --- redirect ---\u003e \u003cfile\u003e\n                                  +---------+\n                         ```\n                         }}}\n                  #md {{{\n                         ***Syntax*** for stdout redirection\n\n                         ```\n                         $ command 1\u003efile\n                         ```\n\n                         Note the `1\u003e` refers to output redirection of the _file descriptor_ of `1`\n                         which is the stdout.\n                         }}}\n                  #md {{{\n                         ***Syntax*** for stdout redirection\n\n                         ```\n                         $ command \u003efile\n                         ```\n\n                         Here is a simpler syntax: `\u003e` redirects the stdout.\n                         }}})\n\n            (:h2 \"Error redirection\")\n            (:div #md {{{\n                         Redirecting only the stdout of a command\n                         will save its output to a file, but\n                         the error messages will still be output to the console.\n\n                         SHELL supports redirection of stderr as well.\n                         }}}\n                  #md {{{\n                         There are two ways of redirecting the stderr:\n\n                         1. redirect to a file\n                         2. redirect to stdout\n                         }}}\n\n                  #md {{{\n                         _Error redirection to file_:\n\n                         ```\n                                  +-------------+\n                                  |            1| --- ...\n                         ... ---\u003e | command     | \n                                  |            2| --- redirect ---\u003e \u003cfile\u003e\n                                  +-------------+ \n                         ```\n                         }}}\n\n                  #md {{{\n                         ***Syntax*** of stderr redirection to file\n\n                         ```\n                         $ command 2\u003efile\n                         ```\n                         }}}\n\n                  #md {{{\n                         _Error redirection to stdout_\n\n                         ```\n                                  +-------------+\n                                  |            1| ---+--- ...\n                         ... ---\u003e | command     |    |\n                                  |            2| ---+\n                                  +-------------+ \n                         ```\n                         }}}\n\n                  #md {{{\n                         ***Syntax*** of stderr redirection to stdout\n\n                         ```\n                         $ command 2\u003e\u00261 ...\n                         ```\n\n                         This allows us to merge both stdout and stderr to a given file.\n\n                         ```\n                         $ command 1\u003efile 2\u003e\u00261\n                         ```\n                         }}}\n                  #md {{{\n                         ```\n                                  +-------------+\n                                  |            1| ---+--- redirect --\u003e \u003cfile\u003e\n                         ... ---\u003e | command     |    |\n                                  |            2| ---+\n                                  +-------------+ \n                         ```\n                         }}}\n                  #md {{{\n                         ```\n                         $ command 2\u003eerror_file 1\u003eoutput_file\n                         ```\n\n                         This saves output and error separately.\n\n                         ```\n                                  +-------------+\n                                  |            1| --- redirect --\u003e \u003coutput_file\u003e\n                         ... ---\u003e | command     | \n                                  |            2| --- redirect --\u003e \u003cerr_file\u003e\n                                  +-------------+ \n                         ```\n                         }}}\n                  )\n          (:h2 \"WARNING:\")\n          (:div #md {{{\n                       You should **never** redirect stdout and stderr to the same file.\n                       \n                       ```\n                                  +-------------+\n                                  |            1| --- redirect --\\\n                         ... ---\u003e | command     |                 +--\u003e file\n                                  |            2| --- redirect --/\n                                  +-------------+ \n                        ```\n                       }}}\n                #md {{{\n                       This is ***really*** bad because the operating system\n                       will overwrite content of file in an unpredictable fashion.\n\n                       - stdout will overwrite some of stderr, or\n                       - stderr will overwrite some of stdout, or\n                       - both\n                       }}})\n            )\n      )\n\n(page :wide\n      (:h1 \"Example\")\n\n      (file {:filename \"\"}\n            :codewalk\n            \"redirect.sh\"))\n\n(page (:h1 \"Pipelines\")\n\n      #md {{{\n             Pipeline is a central feature of UNIX shell that allows us to combine\n             several commands in a highly modular fashion.\n             }}}\n\n      #md {{{\n             We can run _multiple_ commands in order to achieve complex tasks.\n\n             \u003e Pipes allow us to build a pipeline of multiple commands\n             through which text is filtered and transformed.\n             }}}\n\n      #md {{{\n             ```\n                     +------+             +------+             +------+\n             ... --\u003e | cmd1 | -- pipe --\u003e | cmd2 | -- pipe --\u003e | cmd3 | -- redirect --\u003e \u003cfile\u003e\n                     +------+             +------+             +------+\n             ```\n             }}}\n\n      (rows 4 8\n            (:h2 \"stdout to stdin\")\n            (:div #md {{{\n                         We can connect the stdout of one command to the stdin of another.\n                         }}}\n                  #md {{{\n                         ***Syntax***\n\n                         ```\n                         $ cmd1 | cmd2\n                         ```\n                         }}})\n\n            (:h2 \"Pipeline\")\n            (:div #md {{{\n                         - We can connect multiple commands with pipes.\n                         - We can also use redirection as well.\n                         }}}\n                  #md {{{\n                         Reading from `input_file`, and writing to `output_file`.\n                         ```\n                         $ cmd1 \u003cinput_file | cmd2 | cmd3 | cmd4 \u003eoutput_file\n                         ```\n                         }}})\n            )\n      )\n\n(page :wide\n      (:h1 \"Example\")\n      (file :codewalk\n            {:filename \"\"}\n            \"pipe.sh\"))\n", "istop": false, "path": "env/textproc"}, "githubclassroom": {"children": [], "content": "{:title \"Github classroom assignments\"\n :rank 0\n }\n\n(page (:h1 \"New location for all quiz links\")\n\n     #md {{{\n            You can find all the quiz links, as well as other course material\n            at:\n\n            https://github.com/ontariotechu-csci2000u/course-material-2019\n           }}}\n    ) \n", "istop": false, "path": "githubclassroom"}, "intro": {"children": [], "content": "{:title \"About the course\"\n :rank 0\n :summary #md {{{\n           The principal goal of this course is to build computational skills\n           required for analyzing scientific data in a variety of data formats\n           (e.g. CSV, text, binary, sound, image, etc.). Topics include:\n           automation of data analysis tasks using command-line user interfaces\n           (e.g., the Unix shell); managing code and data using a version\n           control system; modular programming for scientific data analysis;\n           debugging and testing scientific software; plotting data (i.e., two-\n           and three-dimensional graphics.)\n           }}}}\n\n(page (:h1 \"Academic Calendar\")\n\n      (box \"\n           The principal goal of this course is to build computational skills\n           required for analyzing scientific data in a variety of data formats\n           (e.g. CSV, text, binary, sound, image, etc.). Topics include:\n           automation of data analysis tasks using command-line user interfaces\n           (e.g., the Unix shell); managing code and data using a version\n           control system; modular programming for scientific data analysis;\n           debugging and testing scientific software; plotting data (i.e., two-\n           and three-dimensional graphics.)\"))\n\n(page (:h1 \"Course Syllabus\")\n\n      #md {{{\n             The course syllabus is available [here](https://docs.google.com/document/d/1KvQTQhJjRM5jQNGBgtU2eL5dY7OU3G7hGEUtSQixRgg/edit?usp=sharing).\n             }}}\n\n      )\n\n(page (:h1 \"Topics\")\n      \n      (rows 4 8\n            (:h2 \"Command line environment\")\n            (:div\n            #md {{{\n                   - UNIX: shell and file system\n                      \u003e The UNIX system is introduced.  We will describe components\n                      including processes, the\n                      shell, and the file system.\n                      }}}\n            #md {{{\n\n                   - Text Editor\n                      \u003e We demonstrate working with files using an editor.\n                      }}}\n            #md {{{\n\n                   - Commands and shell scripts\n                      \u003e We introduce shell commands, path and environment\n                      variables, pipes and IO redirection,\n                      as well as simple constructs in BASH scripting.\n                      }}}\n            #md {{{\n\n                   - Python\n                      \u003e We include Python as a case study of how to work with\n                      different components in a workflow.\n                      }}}\n            #md {{{\n                   - Make\n                      \u003e Make is a tool to automate build processes.\n                   }}}\n            )\n\n            (:h2 \"Git\")\n            #md {{{\n                   - Installation\n                      \u003e Git needs to be properly installed with the global configuration\n                      initialization.  We also need to ensure that a Markdown\n                      viewer is installed such as the Chrome extension.\n\n                   - The model of Git\n                      \u003e Objects, Commits, Head, Branches (optional)\n\n                   - Workflow with github\n                      \u003e - clone, add, commit, push\n                      \u003e - diff, blame, log\n                   }}}\n\n            (:h2 \"Python\")\n            (:div\n            #md {{{\n                   - Installation of Anaconda\n                      \u003e We will use the Anaconda Python distribution for scientific\n                      data analysis.\n                      }}}\n            #md {{{\n\n                   - Data structures with Numpy\n                      \u003e We cover the basic data types in Python including\n                      numbers, strings, lists, dictionaries, and numpy ndarrays.\n                      }}}\n            #md {{{\n                    \n                   - Functional and procedural programming\n                      \u003e We will look at advanced programming constructs to work\n                      with data in Python. We will cover list comprehension,\n                      maps, filters and reduces, and ndarray operations.\n                      }}}\n            #md {{{\n\n                   - Modules and packages\n                      \u003e We look at how large scale Python projects are organized.\n                      \u003e We will introduce concepts of packages and modules, and python\n                      path, and imports.\n                   }}}\n            )\n\n            (:h2 \"Pandas\")\n            (:div #md {{{\n                         - Pandas basics\n                            \u003e We will be introducing _series_ and _dataframes_, which\n                            are generalizations of numpy ndarrays.  Dataframes come\n                            with rich semantic information for complex indexing and queries.\n                            }}}\n                  #md {{{\n                         - Data storage and file formats\n                            \u003e Part of the task in data analysis is ingesting data from\n                            a range of sources.  Pandas provides data loading facilities to\n                            make this easy.\n                            }}}\n\n                  #md {{{\n                         - Data wrangling\n                            \u003e We will investigate a range of techniques offered by Pandas\n                            to perform transformations of data to make it into the right\n                            arrangement for analysis.\n                            }}}\n                  #md {{{\n                         - Plotting and visualization\n                            \u003e Visualization is difficult and tedious.  Pandas provides\n                            functions that help with generating informative visualizations\n                            of dataframes.\n                            }}}\n\n                  #md {{{\n                         - Transformation, selection and aggregation\n                            \u003e Data analysis is all about deriving new insights from\n                            existing data through data manipulation, known as _queries_.  \n                            Pandas\u0027 transfomrational framework can\n                            support very complex queries on existing dataframes.\n                            }}}\n\n                  #md {{{\n                         - Time series\n                            \u003e Time series data comes with its unique characteristics\n                            and challenges.  Pandas has a whole set of functions dedicated\n                            to time series data manipulation.\n                         }}}\n                  )\n\n            )\n      )\n\n(page (:h1 \"A Case Study: LIGO\")\n\n      (rows 4 8\n            (:h2 \"Contribute\")\n            #md {{{\n                   1. Login to your `ontariotechu.net` account.\n                   2. Contribute to the [Google slides](https://docs.google.com/presentation/d/1grX-oVAgTvFheV75Vp-iy1ZEw8f5kV1USBZzv9s4gPM/edit?usp=sharing)\n                   }}}\n            )\n      (html {{{\n               \u003ciframe src=\"https://docs.google.com/presentation/d/e/2PACX-1vS4BgFNaLAsjm5kY9KZX67ekdGfu488vZ_umr4PuE5nsy39MBRdL6FnU1sroLAMovKedT7tsXxw4mlI/embed?start=false\u0026loop=false\u0026delayms=60000\" frameborder=\"0\" width=\"960\" height=\"569\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"\u003e\u003c/iframe\u003e\n               }}})\n      )\n\n", "istop": false, "path": "intro"}, "numerical_python": {"children": ["numerical_python/dataproc", "numerical_python/linalg", "numerical_python/ndarrays", "numerical_python/plot", "numerical_python/stat"], "content": "{:title \"Numerical Python\"\n :rank 5\n :summary #md {{{\n                 Python numpy\n                 }}}\n }\n\n(page (:h1 \"About Numpy\")\n      #md {{{\n             Numpy stands for _numerical python_.  It is a third-party library\n             that has been the defacto standard in scientific data processing\n             in Python\n             }}}\n      #md {{{\n             Numpy is _extremely_ high performant because it\u0027s core numerical\n             processing engine is entirely written in C.\n             }}}\n      )\n", "istop": false, "path": "numerical_python"}, "numerical_python/dataproc": {"children": [], "content": "{:title \"Data Processing with Numpy\"\n :rank 3\n :summary #md {{{\n                 - data processing\n                 - mask-based indexing\n                 - aggregation\n                 }}}\n }\n\n(page (:h1 \"Data Processing Using Numpy\")\n      #md {{{\n             We will apply numpy to analyze a weather data set.\n             It is _daily_ weather measurements of Madrid\n             between 1997 to 2015.\n\n             The dataset is available on Kaggle.com\n\n             https://www.kaggle.com/juliansimon/weather_madrid_lemd_1997_2015.csv\n             }}}\n\n      (rows 4 8\n            (:h2 \"About the data\")\n            (:div #md {{{\n                         - There are 15 years of daily readings.\n                           We have 6812 data points.\n\n                         - There are 22 metrics collected for each day.\n\n                            \u003e 0. CET (Central Europe Time)\n                            \u003e 1. Max Temperature\n                            \u003e 2. Mean Temperature\n                            \u003e 3. Min Temperature\n                            \u003e 4. Dew Point\n                            \u003e 4. Mean Dew Point\n                            \u003e 4. Min Dew Point\n                            \u003e 4. Max Humidity\n                            \u003e 5. Mean Humidity\n                            \u003e 6. ...\n                         }}}\n                  )\n\n            (:h2 \"Some analysis objectives\")\n            (:div #md {{{\n                         We will try to understand the seasonal\n                         variations in temperature.\n                         }}}\n                  #md {{{\n                         We will perform year-to-year comparison\n                         to understand if there is any significant\n                         climate related weather changes.\n                         }}}\n                  )\n            )\n      )\n\n(page :wide \n      (:h1 \"Analysis of Madrid weather data: 1997-2015\")\n      (iframe \"weather-analysis.html\"))\n", "istop": false, "path": "numerical_python/dataproc"}, "numerical_python/linalg": {"children": [], "content": "{:title \"Linear Algebra in Numpy\"\n :rank 5\n :summary #md {{{\n                 We demonstrate that linear algebra can easily\n                 be computed using the numpy library by represening\n                 vectors and matrices using ndarrays.\n\n                 The core linear algebra functionalities are implemented\n                 as numpy functions.\n                 }}}\n }\n\n(page (:h1 \"Examples\")\n\n      (file :include\n            \"linalg.html\"))\n", "istop": false, "path": "numerical_python/linalg"}, "numerical_python/ndarrays": {"children": [], "content": "{:title \"Numpy and NDArray\"\n :rank 1\n :summary #md {{{\n                 - Numpy\n                 - NDArray\n                 - Indexing\n                 - Reshaping\n                 }}}\n }\n\n(page (:h1 \"Numpy package\")\n\n      (code :python\n            {{{\n               import numpy as np\n\n               print(np.__version__)\n               }}}))\n\n(page (:h1 \"Multi-dimensional array\")\n\n      (rows 4 8\n            (:h2 \"Scalar\")\n            #md {{{\n                   A scalar is just a numeric value:\n\n                   - 42\n                   - 3.1415\n                   - 2/3\n                   }}}\n\n            (:h2 \"List\")\n            (:div #md {{{\n                         A python list of scalars look like:\n\n                         \u003e ```\n                         \u003e xs = [3.1415, 42, 2/3, -2, 100.0]\n                         \u003e ```\n                         }}}\n                  #md {{{\n                         If we are to get a _scalar_ from a list,\n                         we need to specify _one index_.\n\n                         \u003e ```\n                         \u003e xs[3] # =\u003e -2\n                         \u003e ```\n                         }}}\n                  )\n\n            (:h2 \"1-D ndarray\")\n            (:div #md {{{\n                         *All* of numpy based data processing is based on n-dimensional arrays\n                         `ndarray`.\n                         }}}\n                  (box #md {{{\n                              Unlike Python lists, `ndarray`s are always homogeneous.  Namely, all\n                              the elements of a `ndarray` must be of the same datatype (e.g. float64, float32, int, bool).\n                              }}})\n\n                  #md {{{\n                         Python lists of scalars can be converted to ndarray objects using `np.array(...)` function.\n                         }}}\n\n                  (code :python\n                        {{{\n                           array = np.array([3.1415, 42, 2/3, -2, 100], dtype=\"float32\")\n                           print(array[3])\n                           # =\u003e -2\n\n                           print(array.shape)\n                           # =\u003e (5,)\n                           }}})\n\n                  (box #md {{{\n                              We need _one_ index to identify a scalar in the ndarray `array`.\n\n                              This makes it _one_-dimensional.\n                              }}})\n                  )\n            \n            (:h2 \"2-D ndarray\")\n            (:div #md {{{\n                         Matrices are the best known example of 2-D arrays.\n\n                         `$$ A = \\left[\\begin{array}{c}\n                                       3.1415 \u0026 42 \\\\\n                                       2/3 \u0026 -2\n                                       \\end{array}\\right] $$`\n\n                         We need _two indices_ to uniquely identify a scalar in 2-D arrays.\n\n                         $$ M[1,1] \\Rightarrow -2 $$\n                         }}}\n\n                  #md {{{\n                         We can use nested python lists to _simulate_\n                         2-D arrays.\n                         }}}\n                  (code :python\n                        {{{\n                           xs = [ [3.1415, 42]\n                                  [2/3, -2] ]\n\n                           xs[1][1] # =\u003e 2\n                           }}})\n\n                  #md {{{\n                         Numpy allows us to convert nested python\n                         list to ndarray:\n                         }}}\n\n                  (code :python\n                        {{{\n                           M = np.array([[3.1415, 42],\n                                        [2/3, -2]], dtype=float)\n                           print(M[1,1])\n                           # =\u003e -2\n\n                           print(M.shape)\n                           # =\u003e (2,2)\n                           }}})\n\n                  (code :python\n                        {{{\n                           print(M.shape)\n                           }}})\n                  )\n            (:h2 \"Higher dimensional ndarray\")\n            (:div #md {{{\n                         We can build up higher dimensional\n                         arrays.}}}\n                  (code :python\n                        {{{\n                           M = np.array([[3.1415, 42],\n                                        [2/3, -2]], dtype=float)\n                           X = np.array([M, M, M])\n\n                           print(X[0, 1, 0])\n                           # =\u003e M[1,0] =\u003e 1.5\n\n                           print(X.shape)\n                           # =\u003e (3, 2, 2)\n                           }}}))\n\n            (:h2 \"Dimensionality\")\n            (:div #md {{{\n                         The dimensionality of a ndarray\n                         is the number of indexes needed\n                         to uniquely identify a scalar.\n                         }}}\n                  (code :python\n                        {{{\n                           M = ...\n                           \n                           # Dimensionality\n                           print(len(M.shape))\n                           }}})\n                  (--*--)\n\n                  #md {{{\n                         ## Challenge\n\n                         1. What is a zero-dimensional ndarray?\n\n                         2. How do you construct a zero-dimensional array?\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Indexing\")\n\n      #md {{{\n             Given a ndarray `X`, its dimensions are referred to\n             as _axes_, starting with 0, 1, 2, ...\n             }}}\n\n      (rows 4 8\n            (:h2 \"Basic Indexing\")\n            (:div #md {{{\n                         An n-dimensional `ndarray` uses the notation of \n                         `[i1, i2, i3, ..., in]` to index the scalars.\n                         }}}\n                  (code :python\n                        {{{\n                           X = np.array([[1, 2],\n                                         [3, 4],\n                                         [5, 6],\n                                         [7, 8]])\n\n                           X.shape # =\u003e (4, 2)\n                           }}})\n                  (code :python\n                        {{{\n                           X[0,1]  # =\u003e 2\n                           X[3,0]  # =\u003e 7\n                           X[0,-1] # =\u003e 2\n                           X[-1,0] # =\u003e 7\n                           }}})\n                  )\n\n            (:h2 \"Slicing\")\n            (:div #md {{{\n                         Along each dimension, we can use\n                         _slice_ to limit the dimension.\n                         }}}\n                  #md {{{\n                         The slice notation can be on\n                         of the following:\n\n                         - `\u003cstart\u003e : \u003cend\u003e : \u003cstep\u003e`\n                         - `\u003cstart\u003e : \u003cend\u003e`\n                         - `\u003cstart\u003e :`\n                         - `: \u003cend\u003e`\n                         - `:`\n                         }}}\n                  (code :python\n                        {{{\n                           X = np.array([[1, 2],\n                                         [3, 4],\n                                         [5, 6],\n                                         [7, 8]])\n\n                           X[:, 0]       #=\u003e [1, 3, 5, 7]\n\n                           X[0:4:2, :]   #=\u003e [[1, 2],\n                                         #    [5, 6]]\n\n                           X[-1, :]      #=\u003e [7, 8]\n\n                           X[::-1, :]    #=\u003e [[7, 8],\n                                         #    [5, 6],\n                                         #    [3, 4],\n                                         #    [1, 2]]\n\n                           X[::-1, ::-1] #=\u003e [[8, 7],\n                                         #    [6, 5],\n                                         #    [4, 3],\n                                         #    [2, 1]]\n                           }}})\n                  )\n            )\n\n      (--*--)\n\n      (:h2 \"Indexing changes the shape\")\n\n      #md {{{\n             - Index by integer removes the dimension.\n             - Index by slice changes the size of the dimension.\n             }}}\n      )\n\n(page (:h1 \"Transposing\")\n      #md {{{\n             Recall that the dimensions of a ndarray is ranked\n             as the first dimension, second dimension, and so on.\n\n             Transposing a ndarray refers to changing the rank of\n             its dimensions by a different order.\n\n             It\u0027s done by a pure function:\n\n             \u003e ```\n             \u003e np.transpose(a, axes=[...])\n             \u003e ```\n             }}}\n\n      (--*--)\n\n      (box\n        (codewalk :python\n                  {{{\n                     # =================================\n                     # Create ndarrays\n                     # - a ~ (3,)\n                     # - b ~ (2, 3)\n                     # - c ~ (1, 2, 3)\n                     # =================================\n\n                     a = np.array([3.14, -0.5, 100.1])\n                     b = np.array([a, a])\n                     c = np.array([b])\n\n                     print(c)\n                     #=\u003e array([[[   3.14,   -0.5 ,  100.1 ],\n                     #           [   3.14,   -0.5 ,  100.1 ]]])\n                     \n\n                     # =================================\n                     # reading a scalar.\n                     #\n                     # The arguments refer to the indexes\n                     # in each of the dimensions.\n                     # =================================\n                     print(c[0, 1, 2]) #=\u003e 100.1\n                     #       ^^^^^^^\n\n                     # =================================\n                     # transpose `c` by reversing the\n                     # dimensions.\n                     #\n                     # The axes refer to the dimension\n                     # ranks.\n                     # =================================\n                     c1 = np.transpose(c, [2, 1, 0])\n                     #                    ^^^^^^^^^\n\n                     print(c1.shape)    #=\u003e (3, 2, 1)\n                     print(c1[2, 1, 0]) #=\u003e 100.1\n\n                     # =================================\n                     # transpose `c` by swapping\n                     # the first two dimensions\n                     # =================================\n                     c2 = np.transpose(c, [1, 0, 2])\n\n                     print(c2.shape)    #=\u003e (2, 1, 3)\n                     print(c2[1, 0, 2]) #=\u003e 100.1\n                     }}}))\n      )\n\n(page (:h1 \"Reshaping\")\n      #md {{{\n             `np.reshape` is yet another way for us to change the shape of a ndarray.\n\n             Reshape changes the shape of a ndarray by iterating over the elements\n             of an input array, and placing it into the output array of a different shape.\n\n             The requirement is that the two arrays must contain the same number\n             of elements.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Capacity of a ndarray\")\n            (:div #md {{{\n                         Consider a ndarray `x`.  Its shape is a tuple\n                         of dimension sizes.\n\n                         Thus, the total number of scalars in `x` is the product\n                         of the dimension sizes.\n\n                         | shape | total scalars |\n                         |-------|---------------|\n                         | 2, 2  | 4             |\n                         | 4, 3  | 12            |\n                         | 3, 4  | 12            |\n                         | 3, 4, 10, 20  | 3 $\\times$ 4 $\\times$ 10 $\\times$ 20 = 12 $\\times$ 300 = 3,600 |\n                         }}}\n                  (code :python\n                        {{{\n                           x = np.array(....)\n                           capcity = np.product(x.shape)\n                           }}}))\n            (:h2 \"Iteration of scalars\")\n            (:div #md {{{\n                         **Note**:\n\n                         \u003e Numpy will perform iteration internally in a highly optimized fashion.\n                         \u003e We show how the iteration can be done in Python just for illustration purposes.\n                         \u003e You should **NEVER** need to do this.\n                         }}}\n\n                  #md {{{\n                         What if we want to visit _each cell_ in ndarray `x` with shape \n                         `$(d_1, d_2, ..., d_n)$`?\n\n                         We can do so with nested loops.\n                         \n                         \u003e ```\n                         \u003e for $i_1$ in range($d_1$):\n                         \u003e |   for $i_2$ in range($d_2$):\n                         \u003e |   |   $\\vdots$\n                         \u003e |   |   for in $i_n$ range($d_n$):\n                         \u003e |   |   |   visit(x[$i_1, i_2, \\dots, i_n$])\n                         \u003e ```\n                         }}}\n                  )\n\n            (:h2 \"Reshaping ndarray\")\n            (:div #md {{{\n                         Let `x` be a ndarray.  It can be reshaped\n                         to another ndarray, `y`, with a different shape as long\n                         as: `capacity(x) == capacity(y)`.\n                         }}}\n                  (code :python\n                        {{{\n                        y = np.reshape(x, \u003cnew_shape\u003e)\n                        y = x.reshape(\u003cnew_shape\u003e)\n                        }}})\n\n                  #md {{{\n                         The way reshape is done is _functional equivalent_ to iterating\n                         over elements of `x`, and placing them in `y` by iterating over `y`.\n                         }}}\n                  )\n\n            (:h2 \"Example\")\n            (:div #md {{{\n                         Let\u0027s consider some way of constructing\n                         the follwing 2D array of shape (n, 3):\n\n                         `$$ x_n = \\left[\\begin{array}{ccc}\n                                       0 \u0026 1 \u0026 2 \\\\\n                                       3 \u0026 4 \u0026 5 \\\\\n                                       \\vdots \u0026 \\vdots \u0026 \\vdots \\\\\n                                       n-3 \u0026 n-2 \u0026 n-1 \n                                       \\end{array}\\right] $$`\n                         }}}\n                  (code {:lang :python\n                        :label \"This is bad\"}\n                        {{{\n                           # construct x_n using\n                           # iteration manually.\n                           def make_x_n(n):\n                               x_n = np.zeros((n, 3))\n                               for i in range(n):\n                                 for j in range(3):\n                                     x_n[i,j] = i*n + j\n                           }}})\n                  (code {:lang :python\n                         :label \"This is better\"}\n                        {{{\n                           # Faster performance, but very unreadable.\n                           def make_x_n(n):\n                             return np.array(list(range(i*n, i*n+3)) for i in range(n))\n                           }}})\n\n                  (code {:lang :python\n                         :label \"This is the best\"}\n                        {{{\n                           # Fastest performance, and very readable.\n                           def make_x_n(n):\n                               x_list = np.array(range(3*n))\n                               return np.reshape(x_list, (n, 3))\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"More on creating ndarray\")\n      #md {{{\n             We have been using `np.array` to make\n             new ndarray objects.  While it is perfectly\n             sufficient programmatically, Numpy has a collection\n             of ndarray constructors that are more convenient\n             to use.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Zeros\")\n            (code :python\n                  {{{\n                     np.zeros(\u003cshape\u003e, dtype=\u0027float64\u0027)\n\n                     np.zeros((2, 3))\n                     # =\u003e [[0.0, 0.0, 0.0],\n                     #     [0.0, 0.0, 0.0]]\n                     }}})\n\n            (:h2 \"Ones\")\n            (code :python\n                  {{{\n                     np.ones(\u003cshape\u003e, dtype=\u0027float64\u0027)\n                     np.ones((3, 2))\n                     #=\u003e [[1.0, 1.0],\n                     #    [1.0, 1.0],\n                     #    [1.0, 1.0]]\n                     }}})\n\n            (:h2 \"Diagonal of ones\")\n            (code :python\n                  {{{\n                     np.eye(\u003crows\u003e, dtype=\u0027float64\u0027)\n\n                     np.eye(4)\n                     #=\u003e [[1.0, 0.0, 0.0, 0.0],\n                     #    [0.0, 1.0, 0.0, 0.0],\n                     #    [0.0, 0.0, 1.0, 0.0],\n                     #    [0.0, 0.0, 0.0, 1.0]]\n                     }}})\n            )\n      )\n\n(page (:h1 \"Relations and ndarray\")\n      (rows 4 8\n            (:h2 \"Relations over scalars\")\n            #md {{{\n                   A (binary) relation evaluates two numbers to true or false.\n\n                   _Example_:\n\n                   \u003e - `2 \u003c 3` is `true`\n                   \u003e - `2 \u003e 3` is `false`\n                   \u003e - `not 2 \u003e 3` is `true`\n                   \u003e - `2 \u003c 3 or 3 \u003e 2` is `true`\n                   }}}\n\n            (:h2 \"Relations over ndarray\")\n            (:div \n              #md {{{\n                     Let `X` be a ndarray.\n\n                     We can create expressions using relations over numbers.\n\n                     - `X == 0`\n                     - `X \u003c 3`\n                     - `X != 0`\n                     }}}\n              #md {{{\n                     The result of these expressions is a _boolean_\n                     ndarray of the same shape as `X.shape`.\n                     }}}\n\n              (code :python\n                    {{{\n                       import numpy as np\n                       X = np.random.rand()\n                       array([[ 0.53585957,  0.43434532,  0.44787666],\n                              [ 0.54323154,  0.43048916,  0.94538872],\n                              [ 0.208645  ,  0.51895342,  0.14450202],\n                              [ 0.96802073,  0.63154656,  0.87086389]])\n\n                       X \u003c 0.5\n                       array([[False,  True,  True],\n                              [False,  True, False],\n                              [ True, False,  True],\n                              [False, False, False]], dtype=bool)\n\n                       (X \u003c 0.5) \u0026 (X \u003e 0.4)\n                       array([[False,  True,  True],\n                              [False,  True, False],\n                              [False, False, False],\n                              [False, False, False]], dtype=bool)\n                       }}})\n              )\n              (:h2 \"Relations over multiple ndarray\")\n              (:div #md {{{\n                           We can have multiple ndarrays of the _same shape_.\n\n                           - `X \u003c Y`\n                           }}}\n                    (code :python\n                          {{{\n                             import numpy as np\n                             X = np.random.rand()\n                             array([[ 0.53585957,  0.43434532,  0.44787666],\n                                    [ 0.54323154,  0.43048916,  0.94538872],\n                                    [ 0.208645  ,  0.51895342,  0.14450202],\n                                    [ 0.96802073,  0.63154656,  0.87086389]])\n\n                             Y = np.random.rand()\n                             array([[ 0.57043915,  0.24626727,  0.83306308],\n                                    [ 0.13232838,  0.79322204,  0.82627951],\n                                    [ 0.56337227,  0.96351517,  0.18458866],\n                                    [ 0.36682011,  0.85883593,  0.08100756]])\n\n                             X \u003c Y\n                             array([[ True, False,  True],\n                                    [False,  True, False],\n                                    [ True,  True,  True],\n                                    [False,  True, False]], dtype=bool)\n\n                             np.abs(X - Y) \u003c 0.1\n                             array([[ True, False, False],\n                                    [False, False, False],\n                                    [False, False,  True],\n                                    [False, False, False]], dtype=bool)\n                             }}})\n                    )\n            )\n\n      (box #md {{{\n                  Summary:\n\n                  \u003e We can form boolean expressions using numeric-relations and ndarrays.\n                  \u003e\n                  \u003e - all the ndarrays should be of the same shape.\n                  \u003e - the boolean expression is evaluated to be a ndarray over booleans.\n\n                  The boolean ndarray is called a _boolean mask_, or just _mask_.\n                  }}})\n     )\n\n\n(page (:h1 \"Indexing using boolean masks\")\n\n      #md {{{\n             A _boolean mask_ of some ndarray `M` is a ndarray with boolean values with the same shape as `M`.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Boolean mask indexing\")\n            #md {{{\n                   Let $M$ be a matrix, with $\\mathrm{shape}(M) = m\\times n$.\n\n                   Let $B$ be a boolean matrix such that $\\mathrm{shape}(B) = \\mathrm{shape}(M)$.\n\n                   $M[B]$ is a _list_, defined by:\n\n                   `$$M[B] = \\{M[i, j] : B[i, j] = \\mathrm{true}\\}$$`\n                   }}}\n\n            (:h2 \"Example\")\n            (code :python{{{\n                   M = array([[ 0,  1,  2],\n                              [ 3,  4,  5],\n                              [ 6,  7,  8],\n                              [ 9, 10, 11]])\n\n                   B = array([[ True, False,  True],\n                              [False,  True, False],\n                              [ True, False,  True],\n                              [False,  True, False]], dtype=bool)\n\n                   M[B]\n                   # array([ 0,  2,  4,  6,  8, 10])\n                   }}})\n\n            (:h2 \"From boolean mask to indices\")\n            #md {{{\n                   We can convert a 2-dimensional boolean mask `$B$` to the indices of $(i,j)$ such\n                   that $B[i,j]$ is true using\n                   \n                   ```\n                   np.where(B)\n                   ```\n                   }}}\n\n            (:h2 \"Example\")\n            (:div (code :python\n                        {{{\n                           In [10]: B\n                           Out[10]: \n                           array([[ True, False,  True],\n                                  [False,  True, False],\n                                  [ True, False,  True],\n                                  [False,  True, False]], dtype=bool)\n\n                           In [11]: np.where(B)\n                           Out[11]: (array([0, 0, 1, 2, 2, 3]), array([0, 2, 1, 0, 2, 1]))\n                           }}})\n                  #md {{{\n                         Now, let\u0027s piece together the indices to tuples.\n                         }}}\n                  (code :python\n                        {{{\n                           In [12]: (I, J) = np.where(B)\n                           In [14]: list(zip(I, J))\n                           Out[14]: [(0, 0), (0, 2), (1, 1), (2, 0), (2, 2), (3, 1)]\n                           }}})\n                  )\n            ))\n\n\n", "istop": false, "path": "numerical_python/ndarrays"}, "numerical_python/plot": {"children": [], "content": "{:title \"Plotting with numpy\"\n :rank 4\n :summary #md {{{\n                 Plotting with numpy\n\n                 - Line plots\n                 - Bar charts\n                 - Contour plots\n                 - 3D plots\n                 }}}\n }\n\n(page :wide\n      (iframe \"learn_matplotlib.html\"))\n", "istop": false, "path": "numerical_python/plot"}, "numerical_python/stat": {"children": [], "content": "{:title \"Statistics in Numpy\"\n :rank 2\n :summary #md {{{\n                 We will examine the numpy API to support\n                 statistical analysis of data sets.\n                 }}}\n }\n\n(page (:h1 \"Statistics of single variable observations\")\n\n      #md {{{\n             Let $x$ be a variable.\n\n             *Example*:\n\n             - Height measurement of person\n             - Temperature reading\n             }}}\n\n      #md {{{\n             We assume that we have a collection of _observations_\n             of the variable.  The collection is best described as a\n             list of numeric values:\n             `$X = \\{x_1, x_2, x_3, \\dots v_n\\}$`\n             }}}\n\n      (note #md {{{\n                   - $x$ is the variable.\n                   - $X$ is the actual observations. We imagine that\n                   $X$ is the observations collected by an experiment.\n                   - $x_i$ is the individual observation.\n                   }}})\n\n      #md {{{\n              We will assume that $X$ be represented as a numpy 1D-array\n              of shape `(n,)`.\n              }}}\n\n      (rows 4 8\n            (:h2 \"Mean\")\n            (:div #md {{{\n                         This is also known as the _average_ of $X$:\n\n                         `$$\\mathrm{mean}(X) = \\frac{1}{n}\\left(\\sum_{i=1}^n x_i\\right)$$`\n\n                         It\u0027s also written as:\n\n                         $$\\bar{X} = \\mathrm{mean}(X)$$\n                         }}}\n                  (code :python\n                        {{{\n                           X = np.array([1,1,2,2,2])\n                           np.mean(X)\n                           # =\u003e 1.6\n                           }}}))\n            (:h2 \"Median\")\n            (:div #md {{{\n                         This is the value $v$ such that there are equal number\n                         of $x_i$ smaller than and greater than $v$.\n                         }}}\n                  (code :python\n                        {{{\n                           X = np.array([1,1,2,2,2])\n                           np.median(X)\n                           # =\u003e 2.0\n                           }}}))\n\n            (:h2 \"Maximum\")\n            #md {{{\n                   $\\mathrm{max}(X)$ is a largest $x_i$.\n                   }}}\n            (:h2 \"Minimum\")\n            #md {{{\n                   $\\mathrm{max}(X)$ is a largest $x_i$.\n                   }}}\n\n            (:h2 \"Percentile\")\n            (:div #md {{{\n                         Let $p$ be a percentage, i.e. $0 \\leq p \\leq 100$.\n                         The $p$-percentile of $X$ is a number $v$ such that\n                         $p\\%$ of $x_i\\in X$ are smaller than $v$.\n\n                         `$$\\frac{|\\{x_i\\in X : x_i \u003c v\\}|}{n} \\simeq \\frac{p}{100}$$`\n                         }}}\n                  (code :python\n                        {{{\n                         np.percentile(X, 90)\n                         }}})\n                  #md {{{\n                         Note:\n\n                         - $\\mathrm{median}(X) = \\mathrm{percentile}(X, 50)$\n                         - $\\mathrm{max}(X) = \\mathrm{percentile}(X, 100)$\n                         - $\\mathrm{min}(X) = \\mathrm{percentile}(X, 0)$\n                         }}}\n                  )\n\n            (:h2 \"Variance\")\n            (:div #md {{{\n                         The variance of $X$ means how _spread_ the data is.\n\n                         `$$\\mathrm{var}(X) = \\frac{1}{n}\\sum_{i=1}^n\\left(x_i - \\bar{X}\\right)^2$$`\n                         }}}\n                  #md {{{\n                         Another interesting way to express variance is:\n\n                         Define: $f(x) = (x - \\bar{X})^2$.  Then,\n\n                         $$\\mathrm{var}(X) = \\mathrm{mean}(\\mathrm{map}(f, X))$$\n                         }}}\n                  (code :python\n                        {{{\n                           X = np.array([1,1,2,2,2])\n                           np.var(X)\n                           # =\u003e 0.24\n                           }}})\n                  )\n            (:h2 \"Standard Deviation\")\n            (:div #md {{{\n                         Standard deviation of $X$, written $\\mathrm{std}(X)$, is defined as:\n\n                         $$\\mathrm{std}(X) = \\sqrt{\\mathrm{var}(X)}$$\n\n                         Standard deviation has the same physical unit as the observations.\n                         }}}\n                  (code :python\n                        {{{\n                           X = np.array([1,1,2,2,2])\n                           np.std(X)\n                           # =\u003e 0.4899...\n                           }}}))\n            )\n      )\n\n(page (:h1 \"Statistics of two-variable observations\")\n\n      #md {{{\n             Sometimes, each observation consists of measurements over multiple variables.\n\n             _Example:_\n\n             - Temperature of the day\n             - Humidity of the day\n\n             | Temperature | Humidity |\n             |-------------|----------|\n             | 29          | 70       |\n             | 26          | 20       |\n             | 20          | 10       |\n             }}}\n      #md {{{\n             This can be described as two lists of the _same_ length:\n\n             `$$\n             \\begin{eqnarray}\n             X \u0026=\u0026 (x_1, x_2, \\dots, x_n) \\\\\n             Y \u0026=\u0026 (y_1, y_2, \\dots, y_n)\n             \\end{eqnarray}\n             $$`\n             }}}\n\n      (rows 4 8\n            (:h2 \"Covariance of two variables\")\n            (:div #md {{{\n                         The covariance between two variables:\n                         `$$\n                         \\mathrm{cov}(X, Y) = \\frac{1}{n}\\sum_{i=1}^n(x_i - \\bar{X})(y_i-\\bar{Y})\n                         $$`\n\n                         It measures how similar the two variables are based on the observation.\n                         }}}\n                  #md {{{\n                         Note:\n\n                         - `$$ -\\infty \\leq \\mathrm{cov}(X,Y) \u003c \\infty $$`\n                         - $\\mathrm{cov}(X,Y) = \\mathrm{cov}(Y,X)$\n                         }}}\n                  #md {{{\n                         - It make sense to compute $\\mathrm{X,X}$\n                         - If we have more than two variables, say $X, Y, Z$, we\n                         can compute the covariance between any two variables:\n                         $\\mathrm{cov}(X,X)$, $\\mathrm{cov}(X,Y)$, $\\mathrm{cov}(X,Z)$,\n                         $\\mathrm{cov}(Y,Z)$.  This forms a matrix:\n\n                         |   | X | Y | Z |\n                         |:---:|:---:|:---:|:---:|\n                         | X | $\\mathrm{cov}(X,X)$| $\\mathrm{cov}(X,Y)$ | $\\mathrm{cov}(X,Z)$|\n                         | Y | $\\mathrm{cov}(Y,X)$| $\\mathrm{cov}(Y,Y)$ | $\\mathrm{cov}(Y,Z)$|\n                         | Z | $\\mathrm{cov}(Z,X)$| $\\mathrm{cov}(Z,Y)$ | $\\mathrm{cov}(Z,Z)$|\n\n                         This is known as the _covariance_ matrix of $(X, Y, Z)$.\n                         }}}\n                  (code :python\n                        {{{\n                           np.cov(X, Y)\n                           # =\u003e [ [cov(X,X), cov(X,Y)]\n                           #      [cov(X,Y), cov(Y,Y)] ]\n                           }}})\n                  )\n\n            (:h2 \"Correlation of two variables\")\n            (:div\n              #md {{{\n                     To measure similarity between two variables, we almost always compute\n                     a normalized covariance measure, known as _Pearson\u0027s correlation coefficient_,\n                     or simply, _correlation coefficient_ of $X$ and $Y$.\n\n                     `$$\n                     \\mathrm{corrcoef}(X, Y) = \\frac{\\mathrm{cov}(X,Y)}{\\mathrm{std}(X)\\cdot\\mathrm{std}(Y)}\n                     $$`\n                     }}}\n              #md {{{\n                     - $-1\\leq \\mathrm{corrcoef}(X,Y) \\leq 1$\n                     - $\\mathrm{corrcoef}(X,X) = 1$\n                     - Correlation matrix of $(X, Y, Z)$.\n                     }}}\n              (code :python\n                    {{{\n                       np.corrcoef(X, Y)\n                       # =\u003e the correlation matrix of (X, Y)\n                       }}})\n              )\n            )\n      )\n", "istop": false, "path": "numerical_python/stat"}, "pandas": {"children": ["pandas/aggregation", "pandas/basic-api", "pandas/dataframe", "pandas/series"], "content": "{:title \"Programmatic Data Analytics\"\n :rank 6\n :summary #md {{{\n                 - Dataframe\n                 - Indexing\n                 - Hierarchical index\n                 - Missing data\n                 - Correlation and other statistics\n                 }}}\n }\n\n(page (:h1 \"About Pandas\")\n      #md {{{\n             It was developed in 2008 to replace spreadsheet based\n             data analysis in the financial sector.\n             }}}\n      #md {{{\n             ## Key features\n\n             - Numpy compatible\n             - Data alignment with index\n             - Time series\n             - Missing data cleaning\n             - Selection, transformation and aggregation\n             }}}\n      #md {{{\n             Pandas provides a spreadsheet experience\n             (and more) via a programmatic interface.\n             }}}\n      #md {{{\n             It offers:\n\n             - support for heterogeneous data (beyond numerical)\n             - reproducible data analysis\n             - merging and joining multiple datasets\n             - easy interface to numpy and matplotlib\n             }}}\n      )\n\n", "istop": false, "path": "pandas"}, "pandas/aggregation": {"children": [], "content": "{:title \"Aggregation and Join\"\n :rank 4\n }\n\n(page :wide\n      (:h1 \"A worksheet on aggregation\")\n      (iframe \"tutorial-2.html\"))\n", "istop": false, "path": "pandas/aggregation"}, "pandas/basic-api": {"children": ["pandas/basic-api/src"], "content": "{:title \"Basics of Dataframe operations\"\n :rank 3\n :summary #md {{{\n                 We cover the basic operations on dataframes, show how\n                 they can be used in practice to perform\n                 data analysis.\n                 }}}\n }\n\n(page :wide\n      (:h1 \"Basic dataframe operations\")\n      (file :include\n            \"basic-api.html\"))\n", "istop": false, "path": "pandas/basic-api"}, "pandas/basic-api/src": {"children": [], "content": "", "istop": false, "path": "pandas/basic-api/src"}, "pandas/dataframe": {"children": [], "content": "{:title \"Data Frames\"\n :rank 2\n :summary #md {{{\n                 The main data container in Pandas is called _Data Frame_.\n                 It\u0027s a generalization of 2D numpy arrays.  Data frames provide\n                 convenient ways to perform complex data analysis.\n                 }}}\n }\n\n(page (:h1 \"About\")\n\n      #md {{{\n             Pandas was created to support quantitative analysis in the financial sector.\n             It supports spreadsheet-like data analysis through _data frames_.\n             }}}\n\n      (box #md {{{\n                  Reading material: Chapter 5 of _Python for Data Analysis_.\n                  }}})\n     )\n\n(page (:h1 \"Creating DataFrame\")\n      (rows 4 8\n            (:h2 \"Definition\")\n            #md {{{\n                   A dataframe is a data container that consists of\n                   _multiple_ series sharing a common _index_.\n                   }}}\n\n            (:h2 \"Creating dataframes from series\")\n            (:div #md {{{\n                         If we have multiple series, we can create a data frame.\n\n                         - Each series is a column of the dataframe.\n                         - Each series _must_ be given a name.\n                         - All series _must_ have the same length.\n                         }}}\n                  (code :python\n                        {{{\n                           names = Series([\"Mary\", \"Joe\", \"Jill\"])\n                           grades = Series([90, 80, 76])\n\n                           df = DataFrame({\"names\": names,\n                                           \"grades\": grades})\n                           }}})\n                  )\n\n            (:h2 \"Creating dataframes from python lists\")\n            (:div #md {{{\n                         We can simply by creating dataframes directly\n                         from python lists.\n                         }}}\n                  (code :python\n                        {{{\n                           df = DataFrame({\"names\": [\"Mary\", \"Joe\", \"Jill\"],\n                                           \"grades\": [90, 80, 76]})\n                           }}})\n                  )\n            (:h2 \"Creating dataframe from rows\")\n            (:div #md {{{\n                         If the data is available in rows already \n                         (numpy ndarray or nested python list)\n                         you can construct a dataframe directly from the\n                         row-wise data.\n                         }}}\n                  (code :python \n                        {{{ \n                           df = DataFrame([[\"Mary\", 90]\n                                           [\"Joe\", 80]\n                                           [\"Jill\",76]])\n                           }}})\n                  #md {{{\n                         **Note**:\n\n                         The columns are named as `0` and `1` by default.\n                         But, we can be explicit about the column names.\n                         }}}\n                  (code :python\n                        {{{\n                           df = DataFrame([[\"Mary\", 90]\n                                           [\"Joe\", 80]\n                                           [\"Jill\",76]]\n                                          columns=[\u0027name\u0027, \u0027grade\u0027])\n                           }}})\n                  )\n            )\n      )\n(page (:h1 \"Components of DataFrame\")\n      (rows 4 8\n            (:h2 \"Values\")\n            (:div #md {{{\n                         A dataframe\u0027s values are a 2D numpy array.\n                         }}}\n                  (code :python\n                        {{{\n                           df.values\n                           =\u003e array([[\u0027Mary\u0027, 90],\n                                     [\u0027Joe\u0027, 80],\n                                     [\u0027Jill\u0027, 76]], dtype=object)\n                           }}})\n                  )\n\n            (:h2 \"Index\")\n            (:div #md {{{\n                         A dataframe\u0027s index is the _shared_ index\n                         of all its series.\n\n                         `df.index` is a sequence of values that\n                         identifies _rows_ of the dataframe.\n                         }}}\n                  (code :python\n                        {{{\n                           df.index\n                           =\u003e Index([0, 1, 2])\n                           }}})\n                  )\n\n            (:h2 \"Columns\")\n            (:div #md {{{\n                         A dataframe is a 2D array.  Its columns\n                         are _uniquely_ identified by the `df.columns`.\n                         }}}\n                  (code :python\n                        {{{\n                          df.columns\n                          =\u003e Index([\u0027grades\u0027, \u0027names\u0027])\n                          }}})\n\n                  #md {{{\n                         We can extract each column as a _series_:\n\n                         ```\n                         dataframe[\u003ccolumn_name\u003e]\n                         ```\n                         }}}\n                  (code :python\n                        {{{\n                           df[\u0027grades\u0027]\n                           =\u003e 0 90\n                              1 80\n                              2 76\n                              Name: grades, dtype=int64\n\n                           df[\u0027names\u0027]\n                           =\u003e 0 \"Mary\"\n                              1 \"Joe\"\n                              2 \"Jill\"\n                              Name: names, dtype=object\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"Access and modify components of dataframe\")\n\n      #md {{{\n             For this section, we work with the dataframe created by:\n\n             ```\n             df = pd.DataFrame(\n                     [[\"Mary\", \"Math\", 89],\n                     [\"Jack\", \"Math\", 68],\n                     [\"Jill\", \"Math\", 78],\n                     [\"Mary\", \"CS\", 77],\n                     [\"Jack\", \"CS\", 88],\n                     [\"Jill\", \"CS\", 91],\n                     [\"Mary\", \"Biology\", 84],\n                     [\"Jack\", \"Biology\", 80]])\n             ```\n             }}}\n\n      (rows 4 8\n\n            (:h2 \"The constructed dataframe\")\n            (:div (code :small\n                        {{{\n                                       0        1   2\n                                 0  Mary     Math  89\n                                 1  Jack     Math  68\n                                 2  Jill     Math  78\n                                 3  Mary       CS  77\n                                 4  Jack       CS  88\n                                 5  Jill       CS  91\n                                 6  Mary  Biology  84\n                                 7  Jack  Biology  80\n                           }}})\n                  #md {{{\n                         Observe:\n\n                         - The columns are named as 0, 1, 2.\n                         - There is an automatically created index.\n                         }}})\n\n            (:h2 \"Set the column names\")\n            (:div (code :small :python\n                        {{{\n                           df.columns = [\u0027name\u0027, \u0027subj\u0027, \u0027grade\u0027]\n\n                           #     name     subj  grade\n                           #  0  Mary     Math     89\n                           #  1  Jack     Math     68\n                           #  2  Jill     Math     78\n                           #  3  Mary       CS     77\n                           #  4  Jack       CS     88\n                           #  5  Jill       CS     91\n                           #  6  Mary  Biology     84\n                           #  7  Jack  Biology     80\n                           }}})\n                  )\n\n            (:h2 \"Getting columns\")\n            (:div (code :small :python\n                        {{{\n                           df[\u0027name\u0027]\n\n                           # 0    Mary\n                           # 1    Jack\n                           # 2    Jill\n                           # 3    Mary\n                           # 4    Jack\n                           # 5    Jill\n                           # 6    Mary\n                           # 7    Jack\n                           # Name: name, dtype: object\n                           }}})\n                  #md {{{\n                         We note that the column is a _series_\n                         which is a vector **and** an index.\n                         }}}\n                  )\n\n            (:h2 \"Getting rows by index\")\n            (:div #md {{{\n                         **A row** is a _series_.  Its index\n                         is the column names.\n                         }}}\n                  #md {{{\n                         Rows can be retrieved by _locating_\n                         an index value.\n\n                         ```\n                         DataFrame.loc[...]\n                         ```\n\n                         Note, we use the array-index syntax.\n                         }}}\n                  (code :small :python\n                        {{{\n                           df.loc[0]\n\n                           # name     Mary\n                           # subj     Math\n                           # grade      89\n                           # Name: 0, dtype: object\n                           }}})\n                  #md {{{\n                         This is a **series** which represents\n                         the _first_ row in the dataframe.\n                         }}}\n                  )\n\n            (:h2 \"Getting rows and columns by index\")\n            (:div #md {{{\n                         Pandas is heavily inspired by numpy, and it\n                         inherits and extends the indexing rules from numpy.\n\n                         - range using `start:end` (inclusively)\n                         - multiple axis\n                         }}}\n                  (code :small :python\n                        {{{\n                           df.loc[0:3]\n\n                           #    name  subj  grade\n                           # 0  Mary  Math     89\n                           # 1  Jack  Math     68\n                           # 2  Jill  Math     78\n                           # 3  Mary    CS     77\n                           }}})\n                  (code :small :python\n                        {{{\n                           df.loc[0:3, \u0027name\u0027]\n\n                           # 0    Mary\n                           # 1    Jack\n                           # 2    Jill\n                           # 3    Mary\n                           # Name: name, dtype: object\n                           }}})\n\n                  (code :small :python\n                        {{{\n                           df.loc[0:3, [\u0027name\u0027, \u0027grade\u0027]]\n\n                           #  name  grade\n                           #  0  Mary     89\n                           #  1  Jack     68\n                           #  2  Jill     78\n                           #  3  Mary     77\n                           }}})\n                  )\n\n              (:h2 \"Integer based indexing\")\n              (:div #md {{{\n                           Recall that `df.values` is just a 2D numpy ndarray.\n                           So, we can always default back to numpy indexing.\n\n                           This is be done more cleanly using:\n\n                           ```\n                           df.iloc[....]\n                           ```\n                           }}}\n                    (code :small\n                          :python\n                          {{{\n                             df.iloc[:3, -2:]\n\n                             #    subj  grade\n                             # 0  Math     89\n                             # 1  Math     68\n                             # 2  Math     78\n                             }}})\n                    )\n            )\n      )\n\n(page (:h1 \"More on data selection\")\n\n      (rows 4 8\n            (:h2 \"Getting columns as attributes\")\n\n            (:div #md {{{\n                         DataFrame dynamically creates\n                         attributes for columns whose names are\n                         valid Python variable names.\n                         }}}\n                  (code :small :python\n                        {{{\n                           df.name\n\n                           df[\u0027name\u0027]\n\n                           # 0    Mary\n                           # 1    Jack\n                           # 2    Jill\n                           # 3    Mary\n                           # 4    Jack\n                           # 5    Jill\n                           # 6    Mary\n                           # 7    Jack\n                           # Name: name, dtype: object\n                           }}})\n                  )\n\n            (:h2 \"Getting values using columns\")\n\n            (:div #md {{{\n                         Suppose that we want to retrieve all rows\n                         associated with `Jack`.\n\n                         This can be done using boolean mask based indexing.\n\n                         ```\n                         df.loc[ \u003cboolean-mask\u003e, ... ]\n                         ```\n\n                         or\n\n                         ```\n                         df[ \u003cboolean-mask\u003e ]\n                         ```\n                         }}}\n\n                  (code :small :python\n                        {{{\n                           df.name == \u0027Jack\u0027\n\n                           # 0    False\n                           # 1     True\n                           # 2    False\n                           # 3    False\n                           # 4     True\n                           # 5    False\n                           # 6    False\n                           # 7     True\n                           # Name: name, dtype: bool\n                           }}})\n\n                  (code :small :python\n                        {{{\n                           df[df.name == \u0027Jack\u0027]\n\n                           #    name     subj  grade\n                           # 1  Jack     Math     68\n                           # 4  Jack       CS     88\n                           # 7  Jack  Biology     80\n                           }}})\n\n                  (code :small :python\n                        {{{\n                           df.loc[df.name == \u0027Jack\u0027, [\"name\", \"grade\"]]\n\n                           #    name  grade\n                           # 1  Jack     68\n                           # 4  Jack     88\n                           # 7  Jack     80\n                           }}})\n                  )\n\n            (:h2 \"Combining multiple boolean conditions\")\n            (:div #md {{{\n                         What if we have multiple boolean conditions?\n\n                         - The subject is CS\n                         - The grade is greater than 85\n\n                         This can be done using element-wise boolean\n                         operations over series.\n                         }}}\n                  (code :small :python\n                        {{{\n                           df[(df.subj == \u0027CS\u0027) \u0026 (df.grade \u003e 85)]\n\n                           #    name subj  grade\n                           # 4  Jack   CS     88\n                           # 5  Jill   CS     91\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"Changing indexes\")\n\n      #md {{{\n             The indexes is the _most_ important part of a dataframe. Many operations\n             (e.g. arithmetics) over multiple dataframes\n             require one to have a _correct_ understanding of the indices.\n\n             Often, we will need to _change_ the index of a dataframe.\n             }}}\n\n      (rows 4 8\n\n            (:h2 \"Set index to an existing column\")\n            (:div #md {{{\n                         We can _convert_ an existing column to be\n                         the index.\n\n                         **Note**:\n\n                         \u003e The values in the index do not have to be unique.\n                         }}}\n                  (code :python :small\n                        {{{\n                           df2 = df.set_index(\u0027name\u0027)\n\n                           #          subj  grade\n                           # name\n                           # Mary     Math     89\n                           # Jack     Math     68\n                           # Jill     Math     78\n                           # Mary      CS     77\n                           # Jack      CS     88\n                           # Jill      CS     91\n                           # Mary  Biology     84\n                           # Jack  Biology     80\n                           }}})\n                  #md {{{\n                         **Note**:\n\n                         By default, all dataframe operations are functional.  Namely,\n                         they return a _new_ copy of the transformed dataframe.\n\n                         Use `df.set_index(..., inplace=True)` to modify the dataframe\n                         in-place.\n                         }}}\n                  )\n\n            (:h2 \"Reset index\")\n            (:div #md {{{\n                         We can convert the existing index back to a _normal_ column\n                         with `df.reset_index()`.\n                         }}}\n                  (code :python :small\n                        {{{\n                           df2.reset_index()\n                           #     name     subj  grade\n                           #  0  Mary     Math     89\n                           #  1  Jack     Math     68\n                           #  2  Jill     Math     78\n                           #  3  Mary       CS     77\n                           #  4  Jack       CS     88\n                           #  5  Jill       CS     91\n                           #  6  Mary  Biology     84\n                           #  7  Jack  Biology     80\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"A simple analysis\")\n\n      #md {{{\n             Let\u0027s compute the average of the students\n             over the three courses.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Build a dataframe with the name as the index\")\n            (code :python\n                  :small\n                  {{{\n                     df2 = df.set_index(\u0027name\u0027)\n                     }}})\n\n            (:h2 \"Build an empty placeholder\")\n            (code :python\n                  :small\n                  {{{\n                     gradebook = pd.DataFrame(index=[\u0027Jack\u0027, \u0027Jill\u0027, \u0027Mary\u0027])\n                     }}})\n\n            (:h2 \"Set the grades\")\n            (:div (code :python\n                        :small\n                        {{{\n                           gradebook[\u0027Math\u0027]    = df2[df2.subj == \u0027Math\u0027].grade\n                           gradebook[\u0027CS\u0027]      = df2[df2.subj == \u0027CS\u0027].grade\n                           gradebook[\u0027Biology\u0027] = df2[df2.subj == \u0027Biology\u0027].grade\n                           }}})\n                  #md {{{\n                         Note, we want the name as the _index_ for both gradebook\n                         and `df2` grade column so that Pandas can perform\n                         the proper data alignment.\n                         }}})\n            (:h2 \"Fix the missing values\")\n            (:div (code :python\n                        :small\n                        {{{\n                           gradebook\n\n                           # Math  CS  Biology\n                           # Jack    68  88     80.0\n                           # Jill    78  91      NaN\n                           # Mary    89  77     84.0\n\n                           gradebook.fillna(0)\n\n                           # Math  CS  Biology\n                           # Jack    68  88     80.0\n                           # Jill    78  91     0\n                           # Mary    89  77     84.0\n                           }}})\n                  #md {{{\n                         **Note**:\n\n                         `gradebook.fillna(0)` only returns a _copy_\n                         of the transformed dataframe.  It does not _change_\n                         `gradebook`.  Use `gradebook.fillna(0, inplace=True)`\n                         if you want to make permanent modification.\n                         }}}\n                  )\n\n            (:h2 \"Compute the average\")\n            (:div (code :python\n                        :small\n                        {{{\n                           gradebook.fillna(0).mean(axis=1)\n\n                           # Jack    78.666667\n                           # Jill    56.333333\n                           # Mary    83.333333\n                           # dtype: float64\n\n                           gradebook.fillna(0).mean()\n\n                           # Math       78.333333\n                           # CS         85.333333\n                           # Biology    54.666667\n                           # dtype: float64\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"Preview of Pandas API\")\n\n      (code :python\n            {{{\n               df.pivot(index=\u0027name\u0027, columns=\u0027subj\u0027, values=\u0027grade\u0027).mean()\n\n               # subj\n               # Biology    82.000000\n               # CS         85.333333\n               # Math       78.333333\n               # dtype: float64\n\n               df.pivot(index=\u0027name\u0027, columns=\u0027subj\u0027, values=\u0027grade\u0027).mean(axis=1)\n\n               # name\n               # Jack    78.666667\n               # Jill    84.500000\n               # Mary    83.333333\n               # dtype: float64\n               }}})\n      )\n\n(page (:h1 \"Summary\")\n\n      #md {{{\n             - Pandas is Numpy + Spreadsheet.\n             - It allows meaningful metadata assigned to the numpy ndarray.\n             - Pandas DataFrame API offers extremely powerful and flexible data processing\n             functionalities.\n             }}}\n      )\n", "istop": false, "path": "pandas/dataframe"}, "pandas/series": {"children": [], "content": "{:title \"Series\"\n :summary #md {{{\n                 We will explore the rich collection\n                 of different types data container of _Pandas_ by\n                 starting with _Series_.  Series are data containers that hold\n                 one-dimensional sequence of floating-point numbers.\n                 }}}\n :rank 1}\n\n\n(page (:h1 \"About\")\n\n      #md {{{\n             Series is a data container that can store a single sequence\n             of values.\n             }}}\n\n      #md {{{\n             Think of series as _indexed_ python lists.\n             }}}\n      )\n\n(page (:h1 \"Anatomy of series\")\n\n      #md {{{\n             Series are constructed by `Series(...)` constructor.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Values\")\n            (:div #md {{{ \n                         The values of a series is a sequence of\n                         values.  It can be specified as a python list.\n                         }}}\n                  (code :python\n                        {{{\n                           # Construct series with values\n                           s = Series([4, 10, 8, 7])\n\n                           # Getting the values back\n                           s.values\n                           =\u003e array([4, 10, 8, 7], dtype=\u0027int64\u0027)\n                           }}})\n                  #md {{{\n                         We can create series using _just values_.\n\n                         # But what do these numbers mean?\n                         }}}\n                  )\n\n            (:h2 \"Index\")\n            (:div #md {{{\n                         A _salient_ feature of Pandas series is that each\n                         value is _indexed_ by some other value.\n\n                         The _index_ of a series is a sequence of values\n                         which _indexes_ the value of the series.\n                         }}}\n                  (code :python\n                        {{{\n                           # Construct series with index\n                           s = Series([4, 10, 8, 7], index=[\u0027PEI\u0027, \u0027ON\u0027, \u0027QC\u0027, \u0027BC\u0027])\n\n                           # Getting the index\n                           s.index\n                           =\u003e array([\u0027PEI\u0027, \u0027ON\u0027, \u0027QC\u0027, \u0027BC\u0027], dtype=\u0027object\u0027)\n                           }}})\n                  #md {{{\n                         # But what do these numbers mean?\n                         }}}\n                  )\n\n            (:h2 \"Name\")\n            (:div #md {{{\n                         Series can also have a name as a string.\n                         }}}\n                  (code :python\n                        {{{\n                           # Construct series with name\n                           s = Series([4, 10, 8, 7],\n                                      index=[\u0027PEI\u0027, \u0027ON\u0027, \u0027QC\u0027, \u0027AB\u0027],\n                                      name=\"Data Center Count\")\n                           }}})\n                  #md {{{\n                         We have enough metadata to know what these numbers mean.\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Using series\")\n\n      (rows 4 8\n            (:h2 \"Numpy operations\")\n            (:div #md {{{\n                         Series can be treated as numpy 1D arrays.\n                         So, we can perform numerical computation using what we already known\n                         from numpy.\n                         }}}\n                  (code :python\n                        {{{\n                           import numpy as np\n\n                           # Average number of data centers per province\n                           np.mean(s)\n\n                           # Standard deviation of data centers\n                           np.std(s)\n                           }}})\n                  )\n\n            (:h2 \"Creating series from python dictionaries\")\n            (:div #md {{{\n                         Since series index every value with an index.  This\n                         reminds us dictionaries in Python.  We can\n                         create series from a dictionary.\n                         }}}\n                  (code :python\n                        {{{\n                           t = Series({\u0027PEI\u0027: 200,\n                                       \u0027ON\u0027: 800,\n                                       \u0027QC\u0027: 562,\n                                       \u0027AB\u0027: 670}, name=\"Engineers\")\n                           }}})\n                  (code :python\n                        {{{\n                           # Series will sort the index automatically\n                           # if it\u0027s constructed from a dictionary.\n\n                           t\n                           =\u003e AB     670\n                              ON     800\n                              PEI    200\n                              QC     562\n                              Name: Engineers, dtype: int64\n                           }}})\n                  #md {{{\n                         Observe that `s` and `t` are indexed by the same\n                         set of values, but in different orders:\n\n                         ```\n                         s.index == [\u0027PEI\u0027, \u0027ON\u0027, \u0027QC\u0027, \u0027AB\u0027]\n                         t.index == [\u0027AB\u0027, \u0027ON\u0027, \u0027PEI\u0027, \u0027QC\u0027]\n                         ```\n                         }}}\n                  )\n\n            (:h2 \"Data alignment\")\n            (:div #md {{{\n                         We can perform numpy arithmetics between\n                         different series.\n                         }}}\n                  (code :python\n                        {{{\n                           efficiency = s / t\n                           =\u003e AB     0.010448\n                              ON     0.012500\n                              PEI    0.020000\n                              QC     0.014235\n                              dtype: float64\n                              }}})\n                  #md {{{\n                         **Note**:\n\n                         We have two series with _different_ index orders, but Pandas\n                         performs automatic data alignment.\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"More Index Magic\")\n\n      (rows 4 8\n            (:h2 \"Modifying index\")\n            (:div #md {{{\n                         One can reassign the index of a series.\n                         }}}\n                  (code :python\n                        {{{\n                           # By default, the index is 0, 1, 2, ...\n                           s1 = Series([89.9, 79.0, 69.0])\n                           s1.index\n                           =\u003e [0, 1, 2]\n                           }}})\n                  (code :python\n                        {{{\n                           # But we can assign the index\n                           s1.index = [\"Jack\", \"Jill\", \"Joe\"]\n                           s1.name = \"English Grades\"\n                           s1\n                           =\u003e Jack 89.9\n                              Jill 79.0\n                              Joe  69.0\n                              Name: English Grades, dtype: int64\n                           }}})\n                  )\n\n            (:h2 \"More on data alignment\")\n            (:div #md {{{\n                         Suppose that we have a series of Math grades\n                         of students.\n\n                         - student names are the index\n                         - grades are the values\n                         }}}\n                  (code :python\n                        {{{\n                           s2 = Series({\"Jack\": 86.0,\n                                        \"Jill\": 90.0,\n                                        \"Mary\": 85.0\n                                        }, name=\"Math Grades\")\n                           s2\n                           =\u003e Jack 86.0\n                              Jill 90.0\n                              Mary 85\n                              Name: Math Grades, dtype: int64\n                           }}})\n                  #md {{{\n                         **Note**:\n\n                         The two series have different index values:\n\n                         `s1.index`:\n\n                         \u003e `[\u0027Jack\u0027, \u0027Jill\u0027, \u0027Joe\u0027]`\n\n                         `s2.index`:\n\n                         \u003e `[\u0027Jack\u0027, \u0027Jill\u0027, \u0027Mary\u0027]`\n                         }}}\n\n                  (code :python\n                        {{{\n                           average = (s1 + s2) / 2\n                           average\n                           =\u003e Jack    80.0\n                              Jill    84.5\n                              Joe      NaN\n                              Mary     NaN\n                              dtype: float64\n                           }}})\n                  )\n\n            (:h2 \"Handing missing data\")\n            (:div #md {{{\n                         Any missing data is represented as `NaN` (not-a-number).\n\n                         Pandas is great at handling missing data.\n                         }}}\n                  (code :python\n                        {{{\n                           average = ((s1 + s2)/2).fillna(0)\n                           average\n                           =\u003e  Jack    80.0\n                               Jill    84.5\n                               Joe      0.0\n                               Mary     0.0\n                               dtype: float64\n                           }}})\n                  )\n            )\n      )\n\n(page :wide\n      (file :include \"src/series.html\"))\n", "istop": false, "path": "pandas/series"}, "python": {"children": ["python/code-organization", "python/data-structures", "python/functional-python", "python/jupyter", "python/plot"], "content": "{:title \"Programming in Python\"\n :rank 4\n :summary #md {{{\n                 Python is an ideal language for data science.  We will revisit\n                 elements of Python in the context of data processing.\n                 }}}\n }\n", "istop": false, "path": "python"}, "python/code-organization": {"children": [], "content": "{:title \"Classes, Modules and Packages\"\n :rank 3\n :summary #md {{{\n                 - Classes\n                 - Modules\n                 - Packages\n                 }}}\n }\n\n(page (:h1 \"Motivation\")\n      #md {{{\n             It\u0027s important to understand how python\n             organizes large code base for two reasons:\n             \n             1. You can write structured code professionally.\n             (Though, this course does not require that).\n             2. It becomes easier to make use of third-party\n             python libraries if you understand how the library\n             is structured.\n             }}}\n      )\n\n(page (:h1 \"What\u0027s in a source file?\")\n      (rows 4 8\n            (:h2 \"Function\")\n            #md {{{\n                   A function is declared some source code file as:\n\n                   \u003e ```\n                   \u003e def \u003cname\u003e ( \u003carguments\u003e... ):\n                   \u003e    ...\n                   \u003e ```\n                   }}}\n\n            (:h2 \"Class\")\n            (:div #md {{{\n                         A class is declared in some source code file as:\n\n                         \u003e ```\n                         \u003e class \u003cname\u003e( \u003csuper-class\u003e ):\n                         \u003e     def __init__(self, \u003carguments\u003e...):\n                         \u003e         #\n                         \u003e         # initialize self\n                         \u003e         #\n\n                         \u003e     def \u003cmethod\u003e(self, \u003carguments\u003e ...):\n                         \u003e         #\n                         \u003e         # method of the object `self`\n                         \u003e         #\n                         \u003e ```\n                         }}}\n\n                  #md {{{\n                         The convention is to capitalize the class name.\n                         }}}\n\n                  #md {{{\n                         One can construct an object of the class with:\n\n                         \u003e ```\n                         \u003e x = MyClass(\u003carguments...\u003e)\n                         \u003e ```\n\n                         So, a class is just like a function that returns an object.\n                         The `__init__` constructor is called on the object.\n                         }}}\n\n                  #md {{{\n                         Once the object is constructed, we can call its methods,\n                         and access its attributes.\n\n                         \u003e ```\n                         \u003e x.method(\u003carguments\u003e ...)\n                         \u003e x.attr = \"...\"\n                         \u003e ```\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Organizing Files \u0026 Names\")\n\n      #md {{{\n             Since files are organized into directory structures,\n             Python organizes its functions and classes into\n             packages and modules in a hierarchical structure.\n             }}}\n\n      (rows :sep 4 8\n            (:h2 \"Modules\")\n            (:div #md {{{\n                         A module is a *single* file.  The name of the module is\n                         the file name.\n                         }}}\n\n                  (code {:label \"mathlib.py\"\n                         :lang :python}\n                         {{{\n                            author = \"CSCI 2000U\"\n\n                            def average(xs):\n                                count = len(xs)\n                                total = reduce(lambda x,y:x+y, xs)\n                                return total / count\n\n                            class Wave:\n                                def __init__(self, freq, amplitude):\n                                    self.freq = freq\n                                    self.amplitude = amplitude\n                                def plot(self):\n                                    ...\n                            }}}\n                         )\n\n                  #md {{{\n                         The module declares several _names_:\n\n                         - `mathlib.author` is a string\n                         - `mathlib.average` is a function\n                         - `mathlib.Wave` is a class.\n                         }}}\n\n                  #md {{{\n                         We can make use of a module in other\n                         source files by _import_ ing the module.\n                         }}}\n                  (code {:label \"myprogram.py\"\n                         :lang :python}\n                        {{{\n                           import mathlib\n\n                           print(matlib.author)\n                           # =\u003e \"CSCI 2000U\"\n\n                           print(mathlib.average([1,2,3]))\n                           # =\u003e 2\n\n                           mathlib.Wave(1.0, 10.0).plot()\n                           }}})\n                  )\n            (:h2 \"Packages\")\n            (:div #md {{{\n                         A python package corresponds to a _directory_.\n\n                         - A package is a collection of modules.\n                         - The name of the package is the path\n                         of the directory.\n                         }}}\n                  #md {{{\n                         ```\n                           |\n                           |\n                           +-- science\n                           |   |\n                           |   +-- physics.py\n                           |   |\n                           |   +-- math\n                           |   |   |\n                           |   |   +-- calculus.py\n                           |   |   |\n                           |   |   +-- probability.py\n                           |   |\n                           |   +-- chemistry.py\n                           |\n                           +-- game\n                           |   |\n                           |   +-- physics.py\n                           ```\n                           }}}\n\n                  #md {{{\n                         This defines _five_ modules:\n\n                         - science.physics\n                         - science.math.calculus\n                         - science.math.probability\n                         - science.chemistry\n                         - game.physics\n                         }}}\n\n                  (code :python\n                        {{{\n                           # sample usage of the modules in packages\n\n                           import science.physics\n                           import science.math.calculus\n                           import game.physics\n\n                           ball = science.physics.Particle(mass=1.0)\n                           field = science.physics.GravityField(g=9.8)\n                           work = science.math.calculus.integrate(ball, field, path=...)\n                           \n                           game.physics.render(ball, field)\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"Importing modules and names\")\n\n      #md {{{\n             As we have seen, if we are to use functions or classes from another\n             module, we must perform _import_.  \n             \n             Vanilla import statements produce cumbersomely long names such as\n\n             - class name of `science.physics.GravityField`\n             - function name of `science.math.calculus.integrate(...)`\n             }}}\n\n      #md {{{\n             There are several solutions:\n\n             - Importing module into top-level.\n             - Importing module with an alias into top-level.\n             - Importing names from a module into top-level.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Importing module into top-level\")\n            (:div\n              (code :python\n                    {{{\n                       from science.math import calculus\n                       from science import physics\n\n                       ball = physics.Particle(mass=1.0)\n                       field = physics.GravityField(acceleration=9.8)\n                       work = calculus.integrate(ball, field, path=...)\n                       }}})\n              #md {{{\n                     Pro: \n                     \n                     - we don\u0027t have to worry about packages.\n                     - code reviewer can easily tell the origin of each class and function.\n                     \n                     Con:\n\n                     - when two modules have the _same_ name, there is a name conflict.\n                     }}}\n              (code :python\n                     {{{\n                       from science import physics\n                       from game import physics\n\n                       #\n                       # physics refers to game.physics.\n                       #\n                       }}})\n                     )\n\n            (:h2 \"Importing modules with alias\")\n            (:div\n              #md {{{\n                     We can import modules and _rename_ them using\n                     the _as_ keyword in the import statement.\n                     }}}\n              (code :python\n                    {{{\n                       from science import physics\n                       import game.physics as game_physics\n                       import science.math.calculus as c\n\n                       ball = physics.Particle(mass=1.0)\n                       field = physics.GravityField(acceleration=9.8)\n                       work = c.integrate(ball, field, path=...)\n\n                       game_physics.render(ball, field)\n                       }}})\n              #md {{{\n                     Pro:\n\n                     - names are shortened.\n                     - code reviewers can figure out the name origins\n                     by examining the import statements.\n                     - can handle module name conflicts.\n                     }}}\n              )\n\n            (:h2 \"Importing names into top level\")\n            (:div #md {{{\n                         It\u0027s possible to import names from modules into\n                         the top level so that _we don\u0027t need to qualitify_\n                         with module names.\n                         }}}\n                  (code :python\n                        {{{\n                           from science.physics import Particle, GravityField\n                           from science.math.calculus import integrate\n                           from game.physics import render\n\n                           ball = Particle(mass=1.0)\n                           field = GravityField(acceleration=9.8)\n                           work = integrate(ball, field, path=...)\n\n                           render(ball, field)\n                           }}})\n\n                  #md {{{\n                         We can also import _all the names_ from a module\n                         using `from \u003cmodule\u003e import *`.\n                         }}}\n\n                  (code :python\n                        {{{\n                           from science.physics import *\n                           from science.math.calculus import *\n                           from game.physics import *\n\n                           ball = Particle(mass=1.0)\n                           field = GravityField(acceleration=9.8)\n                           work = integrate(ball, field, path=...)\n\n                           render(ball, field)\n                           }}})\n                  #md {{{\n                         Pro:\n\n                         - Easy to get started.\n\n                         Con:\n\n                         - Very difficult to understand the origin of functions\n                         and classes, especially with `import *`.\n                         }}}\n                  )\n\n            )\n      )\n\n(page (slide (:h1 \"Summary\")\n             #md {{{\n                    - Packages are directories.\n                    - Modules are python files.\n                    - Functions and classes are names that are declared\n                    as part of a module.\n\n                    ---\n\n                    - To use names of a module, we need to import the module.\n                    - There are several ways of importing names from modules.\n\n                        1. `import \u003cpackage\u003e.\u003cmodule\u003e`\n                        1. `from \u003cpackage\u003e import \u003cmodule\u003e`\n                        1. `from \u003cpackage\u003e.\u003cmodule\u003e import \u003cname\u003e, \u003cname\u003e, ...`\n                        1. `from \u003cpackage\u003e.\u003cmodule\u003e import *`\n                    }}}\n             )\n      )\n", "istop": false, "path": "python/code-organization"}, "python/data-structures": {"children": [], "content": "{:title \"Data Structures in Python\"\n :rank 1\n :summary #md {{{\n                 - Scalars\n                 - Lists\n                 - Dictionaries\n                 - Generators\n                 }}}\n }\n\n(:h1 \"About Python\")\n\n(page (:h1 \"Forward\")\n      #md {{{\n             This courses *requires* basic level of Python programming.\n\n             We will cover specific programming patterns that are related to\n             typical tasks performed in data analysis scenarios.\n             }}}\n      )\n\n(page (:h1 \"Scalars\")\n\n      (rows 4 8\n            (:h2 \"Numbers\")\n            (:div\n              (:h2 \"Integers\")\n              #md {{{\n                     The integer literal is given by:\n\n                     ```\n                     234\n                     ```\n\n                     So, we can do:\n\n                     ```\n                     count = 21\n                     ```\n                     }}}\n\n              #md {{{\n                     - +, -, * of integers return integeres.\n                     - integer division is done by `//`:\n                        \u003e ```\n                        \u003e 30 // 21 == 1\n                        \u003e ```\n                     - division by `/` performs double division:\n                        \u003e ```\n                        \u003e 30 / 21 ~ 1.4285714285714286\n                        \u003e ```\n                     }}}\n\n              (:h2 \"Doubles\")\n              #md {{{\n                     Python\u0027s double literal is given as decimals:\n\n                     ```\n                     3.1415\n                     ```\n\n                     ```\n                     10.0\n                     ```\n\n                     ```\n                     10.\n                     ```\n                     }}}\n              #md {{{\n                     All arithemtic operations on doubles return doubles.\n\n                     - +, -, *, / return double.\n\n                     We can convert to integer using `round` and `int`:\n\n                     - `round(3.6) = 4 // int`\n                     - `int(3.6) = 3 // int`\n                     }}}\n\n              (:h2 \"Complex numbers\")\n              #md {{{\n                     Python supports complex numbers.\n\n                     ```\n                     1j * 1j == -1\n                     ```\n\n                     ```\n                     (1 + 2j) * (3 + 4j) == -5+10j\n                     ```\n                     }}})\n            (:h2 \"Strings\")\n            #md {{{\n                   - String literals:\n\n                      \u003e ```\n                      \u003e \u0027hello world\u0027\n                      \u003e \"hello world\"\n                      \u003e ```\n\n                   - Strings are objects:\n\n                      \u003e ```\n                      \u003e \"hello world\".replace(\"world\", \"there\")\n                      \u003e =\u003e hello there\n                      \u003e ```\n                   }}}\n            (:h2 \"String-like byte arrays\")\n\n            (:div #md {{{\n                         Python 3 has a strict distinction between bytes\n                         and strings.  The individual unit of bytes is a single byte,\n                         while the unit of strings is a character, which may be more\n                         than one byte depending on the encoding.\n                         }}}\n                  #md {{{\n                         Python reads raw data as `bytes`.  We can also specify `bytes`\n                         in the source code using bytes-literals:\n\n                         ```\n                         x = b\u0027hello world\u0027\n                         ```\n\n                         But most of the times, we are reading bytes:\n\n\n                         ```\n                         with open(\u0027data.txt\u0027, \u0027rb\u0027) as f:\n                             x = f.read()\n                         ```\n                         }}}\n                  #md {{{\n                         Bytes objects behave like strings, but with subtle differences:\n\n                         ```\n                         x = b\u0027hello world\u0027\n\n                         x[0]\n                         =\u003e 104 - a byte value, not a character\n\n                         x[3:]\n                         =\u003e b\u0027lo world\u0027\n\n                         x.replace(b\u0027world\u0027, b\u0027there\u0027)\n                         =\u003e b\u0027hello there\u0027\n                         ```\n                         }}}\n                  #md {{{\n                         We typically need to convert bytes to the _right_\n                         format.  The conversion requires one to specify the\n                         encoding:\n\n                         - Bytes to string\n                             \u003e ```\n                             \u003e b = b\u0027hello world\u0027\n                             \u003e b.decode(\u0027utf-8\u0027)\n                             \u003e =\u003e \"hello world\" as a string\n                             \u003e ```\n\n                         - Bytes to integer\n                              \u003e ```\n                              \u003e # 0000 0000 0001 0000\n                              \u003e b = b\u0027\\x00\\x10\u0027\n                              \u003e\n                              \u003e int.from_bytes(b, byteorder=\u0027little\u0027, signed=False)\n                              \u003e =\u003e 4096\n                              \u003e\n                              \u003e int.from_bytes(b, byteorder=\u0027big\u0027, signed=False)\n                              \u003e =\u003e 16\n                              \u003e ```\n                         }}})\n\n\n            )\n      )\n\n(page (:h1 \"Data Structures\")\n\n      #md {{{\n             Python\u0027s data structures are the workhorse of data analysis.\n             We will examine the built-in data structures.\n             }}}\n      )\n\n(page (:h1 \"Tuples\")\n\n      #md {{{\n             Tuples are _read only_ and _fixed-length_ list of arbitrary values.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Construction\")\n            (code :python\n                  {{{\n                     x = (1, \"hello\", \"world\")\n\n                     y = (1,)\n\n                     # note (1) != (1,)\n                     #      (1) == 1\n\n                     z = x + y\n                     =\u003e (1, \"hello\", \"world\", 1)\n                     }}})\n\n            (:h2 \"Indexing\")\n            (code :python\n                  {{{\n                     x = (1, \"hello\", \"world\")\n\n                     x[0]         =\u003e 1\n                     x[-1]        =\u003e \"world\"\n                     x[0:2]       =\u003e (1, \"hello\")\n                     x[:2]        =\u003e (1, \"hello\")\n                     x[1:]        =\u003e (\"hello\", \"world\")\n                     }}})\n\n            (:h2 \"Ordering\")\n            (:div #md {{{\n                         Tuples can be compared.  The ordering of tuples\n                         is done using the _lexicographical_ ordering.\n                         }}}\n                  #md {{{\n                         This means the comparison of two tuples\n                         starts with comparing the their first elements,\n                         and would _only_ compare the second elements\n                         if the first elements are equal.  The third elements\n                         are compared only if the first and second elements are equal,\n                         and so on.\n                         }}}\n                  (code :python\n                        {{{\n                           # The following are _true_.\n\n                           (1, 2) \u003c (2, 1)\n\n                           (1, 2) == (1, 2)\n\n                           (\"hello\", 10000) \u003c (\"world\", 0)\n                           }}}))\n            )\n      )\n(page (:h1 \"List\")\n\n      (rows 4 8\n            (:h2 \"Construction\")\n            (code :python\n                  {{{\n                     x = [1, 2, 3]\n                     =\u003e [1, 2, 3]\n\n                     y = list(\"hello\")\n                     =\u003e [\u0027h\u0027, \u0027e\u0027, \u0027l\u0027, \u0027l\u0027, \u0027o\u0027]\n\n                     z = x + y\n                     =\u003e [1, 2, 3, \u0027h\u0027, \u0027e\u0027, \u0027l\u0027, \u0027l\u0027, \u0027o\u0027]\n                     }}})\n            (:h2 \"Lists are objects\")\n            (code :python\n                  {{{\n                     x = [1, 2, 3]\n                     x.append(4)\n                     # x is now [1, 2, 3, 4]\n\n                     x.extend([5,6,7])\n                     # x is now [1, 2, 3, 4, 5, 6, 7]\n                     }}})\n\n            (:h2 \"List indexing\")\n            (code :python\n                  {{{\n                     x = [1, 2, 3, 4, 5, 6, 7]\n\n                     x[0]           =\u003e 1\n\n                     x[-1]          =\u003e 7\n\n                     x[3:5]         =\u003e [4, 5]\n\n                     x[:5]          =\u003e [1, 2, 3, 4, 5]\n\n                     x[5:]          =\u003e [6, 7]\n\n                     x[:-3]         =\u003e [1, 2, 3, 4]\n                     }}})\n            (:h2 \"Sorting\")\n            (:div #md {{{\n                         Python provides built-in sorting function.\n                         }}}\n                  (code :python\n                        {{{\n                           x = [8, 7, 9, 10, 12, 3, 5]\n                           }}})\n                  (code :python\n                        {{{\n                           sorted(x)\n                           =\u003e [3, 5, 7, 8, 9, 10, 12]\n\n                           sorted(x, reversed=True)\n                           =\u003e [12, 10, 9, 8, 7, 5, 3]\n\n                           sorted(x, key=lambda n: n % 2)\n                           =\u003e [8, 10, 12, 7, 9, 3, 5]\n\n                           sorted(x, key=lambda n: (n % 2, n))\n                           =\u003e [8, 10, 12, 3, 5, 7, 9]\n                           }}})\n                  (code :python\n                        {{{\n                           # get the number of factors:\n                           def count_factors(n):\n                             count = 0\n                             for i in range(1,n):\n                               if n % i == 0:\n                                 count += 1\n                             return count\n\n                           sorted(x, key=count_factors)\n                           =\u003e [7, 3, 5, 9, 8, 10, 12]\n                           }}})\n                  )\n            )\n      )\n(page (:h1 \"Dictionary\")\n\n      #md {{{\n             Dictionaries are also know as hash-maps, and sometimes just as maps.\n\n             They are _dynamic_ lookup tables that can store _key-value_ pairs.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Construction\")\n            (code :python\n                  {{{\n                     # Dictionary literal using {...}\n                     x = {\"name\": \"Albert Einstein\",\n                          \"job\": \"Physicist\",\n                          \"likes\": [\"Physics\", \"Music\"],\n                          \"age\": 139\n                          }\n\n                     # Using dictionary constructor\n                     x = dict(name = \"Albert Einstein\",\n                              job = \"Physicist\",\n                              likes = [\"Physics\", \"Music\"],\n                              age = 139)\n                     }}})\n            (:h2 \"Getting / setting values\")\n            (code :python\n                  {{{\n                     senior = x[\"age\"] \u003e= 65\n\n                     job = x.get(\"job\", \"Unemployed\")\n\n                     x[\"age\"] = x[\"age\"] + 1\n\n                     \"job\" in x\n                     =\u003e True\n\n                     \"blah\" in x\n                     =\u003e False\n\n                     if \"job\" in x:\n                       del x[\"job\"]\n                     }}})\n\n            (:h2 \"Iteration of keys / values\")\n            (code :python\n                  {{{\n                     for k in x.keys():\n                       ...\n\n                     for v in x.values():\n                       ...\n\n                     for (k,v) in x.items():\n                       ...\n                     }}})\n            )\n      )\n(page (:h1 \"Generators\")\n\n      #md {{{\n             Generators are the most interesting and unintuitive\n             of the data structures.\n\n             - An generator is a _list_ of elements,\n             - but the elements are not placed on the list\n             _until_ they are needed.\n             - Generators can be _infinite_ with\n             only finite memory.\n             }}}\n\n      #md {{{\n             ```\n             +-------CO-ROUTINE--------------------+                        +---------------\n             | loop:                               |    GENERATOR           |                       \n             |   put element on the \"generator\" ------\u003e (... element ...) ----\u003e read element\n             |   suspend until the element is read |                        |\n             +-------------------------------------+                        +---------------\n             ```\n             }}}\n\n      (rows 4 8\n            (:h2 \"Construction\")\n            (:div #md {{{\n                         There is _no_ generator literals.\n\n                         The only way to create generator is to _def_\n                         function (co-routine) that will return\n                         a _generator_.\n                         }}}\n                  (code :python\n                        {{{\n                           def count_factors(n):\n                             # returns number of factors 1 to n-1.\n                             ...\n\n                           def prime_numbers():\n                             n = 2\n                             while True:\n                               if count_factors(n) == 1:\n                                 yield n\n                               n += 1\n                           \n                           x = prime_numbers()\n                           }}})\n                  )\n            (:h2 \"Access elements\")\n            (:div\n            (code\n              :python\n              {{{\n                 # print the first 10 primes\n                 for i in range(10):\n                   n = next(x)\n                   print(n)\n                 }}})\n            (code \n              :python \n              {{{\n                 # use iteration to get the first 10 elements\n                 i = 0\n                 for n in x:\n                   i += 1\n                   print(n)\n                   if i == 10: break\n                 }}})\n            (code\n              :python\n              {{{\n                 # use enumeration over generators\n                 for (i, n) in enumerate(x):\n                   if i \u003c 10:\n                     print(n)\n                   else:\n                     break\n                 }}}))\n            )\n\n      #md {{{\n             Generators are _read only_ and _read-only-once_.\n\n             - There is no modification done to the generators\n\n             - There is no rewind in the order of iteration\n             }}}\n      )\n\n(page (banner #md {{{\n                     Let\u0027s do some data analysis\n                     with built in Python data structures.\n                     }}}))\n\n(page (:h1 \"A case study\")\n\n      #md {{{\n             We obtained a dataset on superhero characters\n             from Kaggle.com\n\n             \u003e https://www.kaggle.com/claudiodavi/superhero-set/data\n             }}}\n\n      (file :codewalk \"src/analysis-hero.py\")\n      )\n\n(page (slide (:h1 \"Summary\")\n             #md {{{\n                    - Python has a rich set of _built-in_ data structures.\n\n                    - The data structures come with a _huge_ collection of\n                    data manipulation functions.\n\n                    - Couples with file I/O, we can perform useful data analysis\n                    of data sets even with its built-in features.\n                    }}}\n             (--*--)\n             (:h2 \"Extensions\")\n             #md {{{\n                    We will be looking at a collection of Python\n                    libraries that provide extended functionalities.\n                    }}}\n             ))\n", "istop": false, "path": "python/data-structures"}, "python/functional-python": {"children": [], "content": "{:title \"Functional Programming in Python\"\n :rank 2\n :summary #md {{{\n                 - Promoting functional programming\n                 - Higher order functions and decorators\n                 - Functional iterator combinators\n                 - List comprehension\n                 }}}\n }\n\n(page (:h1 \"Functional Programming: a brief introduction\")\n      #md {{{\n             Functional programming is a _program paradigm_ that\n             focuses on two aspects:}}}\n      (box #md {{{\n             - Functions do not have any _side-effects_.  Namely, there is no\n             modification to _stateful_ memory.  We call such functions _pure_.\n             }}})\n      (box #md {{{\n             - Functions are data, so we can pass functions as arguments\n             to other functions.  We can also get functions to return\n             functions as return value.\n             }}})\n      )\n\n(page (:h1 \"Pure functions\")\n      #md {{{\n             A function is _pure_ if it performs computation of its\n             output based on its input.}}}\n\n      #md {{{\n             A pure function *always* produces the same output for the\n             same inputs.\n\n             Furthermore, the invocation of pure functions, it does not\n             change the behaviour of other code.\n             }}}\n\n      (codewalk :python\n                {{{\n                   # ========================\n                   # Consider the implementation of\n                   # `average`.  This function is\n                   # _pure_.  It does not modify the argument,\n                   # nor any global states.\n                   # ========================\n                   def average(xs):\n                     total = 0.0\n                     count = len(xs)\n                     for x in xs:\n                       total += x\n                     return total / count\n                   }}})\n\n      (codewalk :python\n                {{{\n                   # ==========================\n                   # The argument is _never_ modified by\n                   # the invocation of `average`.\n                   # ==========================\n                   print(average([1, 2, 3]))\n                   # =\u003e 2.0\n\n                   # ============================\n                   # Regardless when the function is invoked,\n                   # `average(...)` will *always* return\n                   # the same output for the same input.\n                   # ============================\n                   print(average([1, 2, 3])) # =\u003e 2.0\n                   print(average([2, 3, 4])) # =\u003e 3.0\n                   print(average([1, 2, 3])) # =\u003e 2.0\n                   print(average([2, 3, 4])) # =\u003e 3.0\n\n                   # ==============================\n                   # Pure functions do not change\n                   # the behaviour of other code.\n                   # =============================\n                   x = [1, 2, 3]\n                   print(average(x)) # =\u003e 2.0\n                   print(x[0]) # =\u003e 1\n\n                   print(average(x)) # =\u003e 2.0\n                   print(x[0]) # =\u003e 1\n                   }}})\n      )\n\n(page (:h1 \"Impure functions\")\n      #md {{{\n             A function is _impure_ if the function does any of the following:\n\n             - an input variable is modified by the function,\n             - an object, or global variable is modified by the function,\n             - the output of the function is not deterministic with respect to the input\n             }}}\n\n      (codewalk :python\n                {{{\n                   # =======================================\n                   # Consider the function that removes\n                   # the average from elements of a list.\n                   # =======================================\n                   def remove_average(xs):\n                       x_av = average(xs)\n                       for i in range(len(xs)):\n                           x[i] = x[i] - x_av\n\n                   # ========================================\n                   # `remove_average(...)` always makes\n                   # the list so that the average is 0.0 \n                   # ========================================\n                   x = [1, 2, 3]\n                   print(x) # =\u003e [1,2,3]\n                   print(average(x)) # =\u003e 2.0\n                   remove_average(x)\n\n\n                   # ========================================\n                   # The same code no longer functions the\n                   # same because of the _side effect_\n                   # of `remove_average(x)`.\n                   #\n                   # **The function is impure**\n                   # ========================================\n                   print(x) # =\u003e [-1.0,0.0,1.0]\n                   print(average(x)) # =\u003e 0.0\n                   }}})\n      )\n\n(page (:h1 \"Examples of python functions\")\n\n      (:h2 \"Sorting lists\")\n      (rows :sep 4 8\n            #md {{{\n                   `sorted(...)` returns a new list consisting\n                   of the sorted elements from the input.\n\n                   The function is _pure_.\n                   }}}\n            (code :python\n                  {{{\n                     x = sorted([4, 3, 2, 1])\n                     # =\u003e [1, 2, 3, 4]\n                     }}})\n\n            #md {{{\n                   Another way of sorting lists is using\n                   the list method `.sort()`.\n\n                   The method is _impure_.\n                   }}}\n            (code :python\n                  {{{\n                     x = [4, 3, 2, 1]\n\n                     x.sort()\n                     }}})\n            )\n\n      (:h2 \"Reversing lists\")\n      (rows :sep 4 8\n            #md {{{\n                   `reversed(...)` returns a new list consisting\n                   of the elements from the input list in _reversed_ order.\n                   }}}\n            (code :python {{{\n                             reversed([1,2,3,4])\n                             # =\u003e [4,3,2,1]\n                             }}})\n            #md {{{\n                   List has a method `reverse()`.\n\n                   It\u0027s _impure_ because it modifies the object itself.\n                   }}}\n            (code :python\n                  {{{\n                     x = [1, 2, 3, 4]\n                     print(x) # =\u003e [1,2,3,4]\n\n                     x.reverse()\n                     print(x) # =\u003e [4,3,2,1]\n                     }}})\n            )\n      )\n\n(page (:h1 \"Functions As Objects\")\n\n      #md {{{\n             Functional programming promotes treating functions as data.\n             Python, being an object-oriented programming language, treats\n             functions as _objects_.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Why functions as objects?\")\n            #md {{{\n                   - Functions can have objects as inputs.\n                   - Functions can have objects as outputs.\n                   - Functions are objects.\n\n                   ---\n\n                   = Functions can process functions, and output functions.\n                   }}}\n            (:h2 \"Rules of callable objects\")\n            (code :python\n                  {{{\n                     # define a function\n                     def double(x):\n                       return x + x\n                     \n                     i = double(10) # calling the function\n\n                     f = double     # f is a variable, and it is \n                                    # referencing the function `double`\n\n                     i = f(10)      # Python resolves f to the function\n                                    # double\n                     }}})\n\n            (:h2 \"Functions acting on functions\")\n            (code :python\n                  {{{\n                     # define a function that outputs a function\n                     # from an input function.\n                     def twice(f):\n                       def g(x):\n                         return f(f(x))\n                       return g\n                     \n                     twice(double)  # this will evaluate to a *function*.\n                     \n                     print(twice(double)(10))\n                     # =\u003e double(double(10))\n                     # =\u003e double(20)\n                     # =\u003e 40\n                     }}})\n            (:h2 \"Challenge\")\n            (:div #md {{{\n                         What is the output for the following:\n\n                         \u003e ```\n                         \u003e g = twice(double)\n                         \u003e print(twice(g)(10))\n                         \u003e ```\n                         }}}\n                  #md {{{\n                         What about:\n\n                         \u003e ```\n                         \u003e print(twice(twice(g))(10))\n                         \u003e ```\n                         }}})\n            )\n      )\n\n(page (:h1 \"Anonymous functions using lambda\")\n\n      #md {{{\n             Objects can be dynamically created\n             during the runtime of the program.  \n             \n             Since functions are objects, Python\n             provides a special syntax form, known as\n             `lambda` functions, that can create\n             functions on the fly.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Syntax\")\n            (codewalk :python\n                  {{{\n                     # ===========================\n                     # x, y, z are the arguments\n                     # and `expression` is any python\n                     # expression using x, y, z.\n                     # ===========================\n                     lambda x, y, z: expression\n                     }}})\n\n            (:h2 \"Examples\")\n            (code :python\n                  {{{\n                     inc = lambda x: x + 1\n                     age_of = lambda person: person[\u0027age\u0027]\n\n                     inc(10)\n                     # =\u003e 11\n\n                     age_of({\"age\": 48, \"name\": \"Jack\"})\n                     # =\u003e 48\n\n                     # Lambda functions are functions,\n                     # and can be used without any name.\n                     (lambda x: x + 1)(10) \n                     # =\u003e 11\n                     }}})\n\n            (:h2 \"Warning\")\n            #md {{{\n                   lambda-functions are meant to express\n                   simple and throw-away functions succinctly.  \n                   One should avoid using them if the function \n                   is complex or if the function is reused multiple\n                   times.\n\n                   Use `def func_name(...)` instead.\n                   }}}\n            )\n      )\n\n(page (:h1 \"Functional Programming in Python: Map\")\n\n      (rows 4 8\n            (:h2 \"What is it?\")\n            #md {{{\n                   `map` is a built-in Python function.\n                   It is a _higher order_ function, which means that\n                   it takes functions as part of its input.\n\n                   `map(f, xs)` generates an iterable list\n                   consisting of the elements:\n\n                   `$$\\left\u003cf(x_1), f(x_2), \\dots\\right\u003e$$`\n                   }}}\n            (:h2 \"Map is lazy evaluated\")\n            #md {{{\n                   `map` _always_ acts on iterables,\n                   and returns **iterables**.\n\n                   The `map` function always returns a _generator_.\n                   This means that it does not perform any computation\n                   _unless_ its output is needed.\n                   }}}\n            (:h2 \"Some examples\")\n            (:div #md {{{\n                         To convert the output of `map` to\n                         a list, use:\n\n                         ```\n                         list(map(...))\n                         ```\n\n                         This will also _force_ `map` to\n                         compute its entire output list.\n                         }}}\n                  (code :python\n                        {{{\n                           numbers = [3, 5, 8, 12]\n\n                           # counts the number of factors that\n                           # divides `n` between [2 .. n-1]\n                           def num_factors(n):\n                               count = 0\n                               for i in range(2, n):\n                                   if n % i == 0:\n                                       count += 1\n                               return count\n                           \n                           print(list(map(num_factors, numbers)))\n                           # =\u003e [0, 0, 2, 3]\n                           }}})\n\n                  (--*--)\n\n                  #md {{{\n                         `map` is not guaranteed to be\n                         pure.  If `f` is not pure, then\n                         `map(f, xs)` will not be pure either.\n                         }}}\n                  (code :python\n                        {{{\n                           def grow(person):\n                             person[\u0027age\u0027] += 1\n                           \n                           persons = [{\"name\": \"Jack\", \"age\": 8},\n                                      {\"name\": \"Mary\", \"age\": 7}]\n\n                           list(map(grow, persons))\n\n                           print(person)\n                           # =\u003e [{\"name\": \"Jack\", \"age\": 9},\n                           #     {\"name\": \"Mary\", \"age\": 8}]\n                           }}})\n                  )\n\n            )\n      )\n\n(page (:h1 \"Functional Programming in Python: Filter\")\n      (rows 4 8\n            (:h2 \"What is filter?\")\n            #md {{{\n                   Filter is a built-in python function that\n                   takes a _predicate_ function, and a list-like iterator.\n\n                   It returns a _generator_ of elements that\n                   satisfy the predicate function.\n                   }}}\n\n            #md {{{\n                   ## What is a predicate?\n\n                   A predicate is any function\n                   that has _one_ argument, and returns\n                   true or false.\n                   }}}\n            (code :python\n                  {{{\n                     def is_senior(person):\n                         return person[\u0027age\u0027] \u003e= 65\n\n                     def is_prime(n):\n                         return num_factors(n) == 0\n                     }}})\n\n            (:h2 \"Using filter\")\n            (:div\n                  (code :python \n                        {{{\n                           persons = [ ... ]\n                           seniors = list(filter(is_senior, persons))\n                           }}})\n                  (--*--)\n                  #md {{{\n                         We should remember that higher-order\n                         functions are not necessary as basic python\n                         can always be used instead.\n                         }}}\n                  (code :python\n                        {{{\n                           persons = [ ... ]\n                           seniors = []\n                           for person in persons:\n                               if is_senior(person):\n                                   seniors.append(person)\n                           }}})\n                  )\n            )\n      )\n\n(page (:h1 \"Functional Programming in Python: Reduce\")\n      (rows 4 8\n            (:h2 \"What is reduce?\")\n            #md {{{\n                   Reduce is a higher order function\n                   from the `functools` module.\n\n                   The `reduce` function _reduces_ a list\n                   to a single value using a _reducer_ function.\n                   }}}\n            (:h2 \"Reducer\")\n            (:div\n              (box #md {{{\n                          ## Reduction \u0026 Reducer\n\n                          Reduction refers to mapping a list to a value.\n\n                          - The input of `reduce` is a list,\n                          - and the output is a single value of some type `T`.\n\n                          ```\n                              +---+---+---+---\n                              |x1 |x2 |x3 |  ...   == reduce ==\u003e y of type T\n                              +---+---+---+---\n                          ```\n\n                          ---\n\n                          A reducer is a function that updates\n                          a _state_ of type `T` with single elements\n                          from the list.\n\n                          ```\n                              xi ---+\n                                     \\\n                                      +---\u003e reducer ---\u003e y\n                                     /\n                              y  ---+\n                          ```\n                          }}})\n              )\n            (:h2 \"How to use reduce\")\n            (:div\n              #md {{{\n                     Consider a list of values:\n\n                     \u003e ```\n                     \u003e [3, 4, 2, 6, 5]\n                     \u003e ```\n\n                     We can reduce the list to a single _integer_ in many\n                     different ways:\n\n                     - Sum\n                     - Product\n                     - Max\n                     - Min\n                     - Count\n                     }}}\n              (code :python\n                    {{{\n                       from functools import reduce\n\n                       y = reduce(f, xs, y0)\n                       }}})\n\n              (--*--)\n\n              #md {{{\n                     Here is an example of reducing a list to the sum:\n\n                     - Reducer is `+`\n                     - Initial value is `0`\n                     }}}\n              (code :python\n                    {{{\n                    sum = reduce(lambda x,y: x+y, [1,2,3,4,5], 0)\n                    # =\u003e 15\n                    }}})\n\n              (--*--)\n\n              #md {{{\n                     To get the maximum of a list, we can\n                     reduce using the reducer `max`.\n\n                     If the initial value is omitted, `reduce`\n                     uses the first element of the list as\n                     the initial value.\n                     }}}\n              (code :python\n                    {{{\n                       max_value = reduce(max, [1,2,3,4,5])\n                       }}})\n\n              (--*--)\n\n              #md {{{\n                     Counting a list requires reduction\n                     of list of _arbitrary_ elements to\n                     a single integer.\n\n                     The reducer is:\n\n                     ```\n                     lambda n, x: n+1\n                     ```\n                     }}}\n              (code :python\n                    {{{\n                       count = reduce(lambda n,x: n+1, [\"hello\", \"world\", \"blah\"], 0)\n                       # =\u003e 3\n                       }}})\n              )\n            )\n      #md {{{\n             We should keep in mind that `reduce` is _not_ necessary, but\n             a nice way to perform list processing.\n             }}}\n           (code :python\n                 {{{\n                    count = reduce(lambda n,x: n+1, [\"hello\", \"world\", \"blah\"], 0)\n                    }}})\n           (code :python\n                 {{{\n                    count = 0\n                    for x in [\"hello\", \"world\", \"blah\"]:\n                        count += 1\n                    }}})\n      )\n\n(page (:h1 \"Functional Programming in Python: List-comprehension\")\n\n      #md {{{\n             List-comprehension is an extremely powerful syntactic\n             construct to support functional list processing.\n\n             It replaces `map` and `filter` by a special syntax that\n             is considerably more readable and succinct.\n             }}}\n\n      (box #md {{{\n                  List-comprehension is an expression that\n                  _always_ evaluates to a list.\n                  }}})\n\n      (:h2 \"Syntax\")\n\n      (rows 6 6\n        (code :python :small\n              {{{\n                 [ \u003cexpression\u003e for \u003cvar\u003e in \u003clist-expression\u003e ]\n                 }}})\n        (code :python :small\n              {{{\n                 result = []\n                 for \u003cvar\u003e in \u003clist-expression\u003e:\n                     result.append(\u003cexpression\u003e)\n                 return result\n                 }}})\n        )\n      (rows 6 6\n            (code :python :small\n                  {{{\n                     [\u003cexpression\u003e for \u003cvar\u003e in \u003clist-expr\u003e if \u003ccond\u003e]\n                     }}})\n            (code :python :small\n                  {{{\n                     result = []\n                     for \u003cvar\u003e in \u003clist-expr\u003e:\n                         if \u003ccond\u003e:\n                             result.append(\u003cexpression\u003e)\n                     return result\n                     }}})\n            )\n\n      (rows 6 6\n            (code :python :small\n                  {{{\n                     [\u003cexpression\u003e for \u003cvar1\u003e in \u003clist-expr-1\u003e for \u003cvar2\u003e in \u003clist-expr-2\u003e]\n                     }}})\n            (code :python :small\n                  {{{\n                     result = []\n                     for \u003cvar1\u003e in \u003clist-expr-1\u003e:\n                         for \u003cvar2\u003e in \u003clist-expr-2\u003e:\n                             result.append(\u003cexpression\u003e)\n                     return result\n                     }}})\n            )\n      (--*--)\n      (:h2 \"Examples of list-comprehension\")\n      (code :python\n            {{{\n               seniors = [p for p in persons if p[\u0027age\u0027] \u003e= 65]\n               }}})\n\n      (code :python\n            {{{\n               # find all (x,y) such that x+y = 2x-y\n               # for x in range(100) and y in range(200)\n               print([(x, y) for x in range(100) for y in range(200) if x+y == 2x-y])\n               }}})\n      )\n\n(page (slide (:h1 \"Summary\")\n\n             #md {{{\n                    Functional programming promotes:\n\n                    - Pure functions without any side-effects\n                    - Functions as data and higher order functions\n                    }}}\n             (--*--)\n\n             #md {{{\n                    FP in Python:\n\n                    - Map\n                    - Filter\n                    - Reduce\n                    - List comprehension\n                    }}}\n             )\n      )\n", "istop": false, "path": "python/functional-python"}, "python/jupyter": {"children": [], "content": "{:title \"Jupyter Notebook\"\n :rank 0\n :summary #md {{{\n                 Jupyter notebook is a special Python\n                 runtime environment for interactive\n                 and explorative programmatic data\n                 analysis.\n                 }}}\n }\n\n(page (:h1 \"Workflow of Data Analysis\")\n\n      (image \"workflow.png\")\n      )\n\n(page (:h1 \"Iterative \u0026 Incremental Programming\")\n\n      #md {{{\n             Jupyter notebook is an environment where\n             code is organized into _cells_.\n             }}}\n\n      (rows 6 6\n          #md {{{\n                   The cells are evalued _manually_.\n\n                   Since the user runs the individual cells manually,\n                   the sequence of the code evaluation is controlled\n                   by the user.\n\n                   \u003e This can get dangerously confusing.\n                   }}} \n          (image \"exec-order.png\")\n          #md {{{\n                 _Why_?\n\n                 We can avoid unnecessary code execution during\n                 the iterative development phase.\n                 }}}\n          (image \"exec-order-2.png\")\n          )\n      )\n\n(page (:h1 \"Working with Jupyter Notebooks\")\n\n      (rows 4 8\n            (:h2 \"Installation\")\n            #md {{{\n                   Anaconda Python comes with\n                   Jupyter notebook by default.  So, just\n                   install Anaconda Python.\n\n                   - Linux\n                   - Mac OS\n                   - Windows\n                   }}}\n\n            (:h2 \"Getting Started\")\n            (:div #md {{{\n                       Jupyter notebook comes in two parts:\n\n                       1. Server side:\n                          \u003e The server maintains the runtime environment, and\n                          evaluates the code cells incrementally.\n\n                       2. Client side:\n                          \u003e The Jupyter notebook is a Web application that provides\n                          the means of editing the code cells and the output of\n                          each cell.\n                       }}}\n                  #md {{{\n                         Jupyter notebook server is launched by:\n\n                         ```\n                         $ jupyter notebook \u003cpath\u003e\n                         ```\n\n                         If the _path_ is omitted, then the notebook starts\n                         in the _current_ directory.\n                         }}})\n                  )\n            (image \"jupyter-notebook-blank.png\"\n                    #md {{{\n                           By default, jupyter notebook will try to open a browser, pointing to the \n                           Jupyter notebook Web application.\n                           }}})\n      )\n\n(page (:h1 \"Working with Jupyter Notebooks\")\n\n      #md {{{\n             \u003ciframe src=\"https://docs.google.com/presentation/d/e/2PACX-1vSVI0AiNJxq7nPUU7kRVRh0Td5oAgbKOpR-qrzKzRxkY0feZvbuuzw3Q54yXxQaTfm9poeDnGAhrs1O/embed?start=false\u0026loop=false\u0026delayms=3000\" frameborder=\"0\" width=\"480\" height=\"299\" allowfullscreen=\"true\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"\u003e\u003c/iframe\u003e\n             }}}\n      )\n\n(page (rows 6 6\n            (:div (:h1 \"Why Jupyter Notebook?\")\n                  #md {{{\n                         - Great for interactive data exploration\n                         }}}\n                  #md {{{\n                         - Immediate visual feedback with support for graphcs, rich text, and custom widgets\n                         }}}\n                  #md {{{\n                         - Cloud runtime support\n                         }}}\n                  #md {{{\n                         - Extensive deployment and usage in the data science section\n                         }}}\n                  )\n            (:div (:h1 \"Why NOT Jupyter Notebook?\")\n                  #md {{{\n                         - Terrible way to learn _programming_\n                           \u003e The back-and-forth manual evaluation can create very subtle and hard to trace\n                           bugs.\n                         }}}\n                  #md {{{\n                         - The code is not production ready.\n                           \u003e The code is saved in `.ipynb` which is not considered as\n                           a production quality format.\n                         }}}\n                  #md {{{\n                         - The code is not reusable.\n                           \u003e There is no mature support for combining multiple `.ipynb` files,\n                           so we cannot build large scale software based on Jupyter notebooks.\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"About this course\")\n      #md {{{\n             - This course uses Jupyter notebook extensively.\n\n                \u003e We rely Jupyter notebook to conduct most of the tests.\n\n             - You are also expected to perform analysis in a terminal driven environment.\n\n                \u003e - SHELL data processing utilities\n                \u003e - Documentation tools\n                \u003e - Python projects\n             }}}\n      )\n", "istop": false, "path": "python/jupyter"}, "python/plot": {"children": [], "content": "{:title \"Plotting - a first look\"\n :rank 4\n :summary #md {{{\n                 - Matplotlib\n                 - Plotting with Python lists\n                 }}}\n }\n\n(page :wide\n      (:h1 \"Plotting lists\")\n      (iframe \"plot_tutorials.html\"))\n", "istop": false, "path": "python/plot"}, "versioning": {"children": ["versioning/data_model", "versioning/git", "versioning/github"], "content": "{:rank 3\n :title \"Version Control\"\n :summary #md {{{\n                 We cover the principles and tools of\n                 _version control_.  In particular, \n                 we focus on _git_ and repository hosting\n                 services such as Github. \n                 }}}\n }\n", "istop": false, "path": "versioning"}, "versioning/data_model": {"children": [], "content": "{:title \"Versioned file system\"\n :rank 1\n :summary #md {{{\n                 We present the logical model of versioned file system\n                 in which all changes are recorded and can be undo\n                 if required.\n                 }}}\n }\n\n(page (:h1 \"Version Control\")\n\n      #md {{{\n             - The file system evolves over time.\n             - The evolution of the contents of the files are equally important.\n             - _Version control_ is about managing *every* version of the files in a file system.\n             }}}\n\n      (:h2 \"History is crucially important in data management and software engineering.\")\n      )\n\n(page (:h1 \"An example\")\n\n      #md {{{\n             Consider a scenario involving a _shopping list_ in a _shared_\n             by multiple editors.\n             }}}\n\n      (note #md {{{\n                   By the way, Google Doc is version controlled.\n                   }}})\n\n      (rows 4 8\n            (:h2 \"A shopping list\")\n            (:div #md {{{\n                         ***Shared text file***\n\n                         Several lists shopping lists that are stored as files\n                         in the file system:\n\n                         ```\n                         /shopping/food.txt\n                         /shopping/books.txt\n                         /shopping/computer.txt\n                         /shopping/gifts.txt\n                         ```\n                         }}}\n\n                  #md {{{\n                         ***Several users***\n\n                         - Jack\n                         - Mike\n                         - Jill\n                         }}})\n\n            (:h2 \"Why history is really important?\")\n            (:div #md {{{\n                         Jill doesn\u0027t like _fish_.\n                         }}}\n                  (code {:label \"/shopping/food.txt\"}\n                        {{{\n                           - Bread\n                           - Cheese\n                           - Fish\n                           - Tomatoe\n                           }}})\n                  #md {{{\n                         Jill:\n\n                         \u003e 1. _Who put **fish** on the list?_\n                         \u003e 2. _When_ was **fish** added to the list?\n                         \u003e 3. _Why_ was **fish** added to the list?\n                         }}}\n                  )\n\n            (:h2 \"Changes are done to multiples files\")\n            (:div #md {{{\n                         Jack wants to host a party for Jill.\n                         So, he updates multiple files:\n\n                         - /shopping/food.txt\n                           \u003e add ___chips___ and ___beverage___\n\n                         - /shopping/gifts.txt\n                           \u003e add ___movie tickets___\n                         }}}\n                  #md {{{\n                         All updates should exist as a single atomic unit.\n                        }}}\n                  #md {{{\n                         If the event is cancelled, the multiple lists should be updated:\n\n                         - /shopping/food.txt\n                           \u003e delete ___chips___ and ___beverage___\n\n                         - /shopping/gifts.txt\n                           \u003e delete ___movie tickets___\n                         }}}\n                  #md {{{\n                         Without version control, we have no idea what to do.\n\n                         - What if Jack is planning the birthday parties for both Mike and Jill?\n                         - If we cancel one, which food items and gift items to delete?\n                         - What if Jack is gone, and Joe is asked to edit the shopping lists?\n                         }}})\n            )\n      )\n\n(page (:h1 \"A logical view of versioned file system\")\n\n      #md {{{\n             A file system is a tree of _paths_.\n\n             1. The intermediate nodes are directories.\n             2. The leaf nodes are files.\n\n             ```\n             dir1\n             |\n             +-- dir2\n             |   |\n             |   +-- Makefile\n             |   |\n             |   +-- shopping\n             |       |\n             |       +-- food.txt\n             |       |\n             |       +-- gifts.txt\n             |\n             +-- dir3\n\n             ```\n             }}}\n      #md {{{\n             The tree structure and the file contents can change over time, however\n             the history of the changes are *lost*.\n             }}}\n      (box #md {{{\n                  This is the UNIX file system.\n                  }}})\n\n      (:h2 \"A versioned file system\")\n\n      #md {{{\n             A versioned file system is a timeline of trees of _paths_.\n\n             ```\n             USER:   @user1                     @user2                    @user3\n             REASON: \"creation\"                 \"homework and makefile\"   \"planning a party\"\n             TIME    timestamp 1                timestamp 2               timestamp 3\n                    (*)========================(*)=======================(*)================== ...\n                     |                          |                         |\n             TREE:   dir1                       dir1                      workspace*\n                     |                          |                         |\n                     +-- dir2                   +--dir2                   +-- personal*\n                     |   |                      |  |                      |   |\n                     |   +-- Makefile           |  +-- Makefile*          |   +-- Makefile\n                     |   |                      |  |                      |   |\n                     |   +-- shopping           |  +-- shopping_list      |   +-- shopping_list\n                     |       |                  |      |                  |       |\n                     |       +-- food.txt       |      +-- food.txt       |       +-- food.txt* \n                     |       |                  |      |                  |       |\n                     |       +-- gifts.txt      |      +-- gifts.txt      |       +-- gifts.txt*\n                     |                          |                         |\n                     +-- dir3                   +-- dir3                  +-- dir3\n                                                    |                         |\n                                                    +-- homework.py           +-- homework.py\n                                                                              |\n                                                                              +-- Makefile\n             ```\n             }}}\n\n      (box #md {{{\n                  This (and **more**) is the Git data model.\n                  }}})\n\n      )\n\n(page (:h1 \"Blobs \u0026 Commits\")\n      #md {{{\n             We will redefine the file system with new\n             terminologies and concepts in preparation\n             for learning `git`.\n             }}}\n\n      (:h2 \"Blobs and index\")\n\n      #md {{{\n             We will *completely* separate the file content\n             and its path.\n\n             - The path is \n\n               \u003e `workspace/personal/shopping_list/food.txt`\n\n             - The content of the file is\n\n               \u003e ```\n               \u003e - bread\n               \u003e - cheese\n               \u003e ```\n             }}}\n\n      #md {{{\n             ***Blob***\n\n             A _blob_ is a __read-only__ content, along with its __hash value__.\n\n             ```\n             3eabde002f60e7ba261cdd8eb25a7c6d --\u003e +-------------------+\n                                                  | - bread           |\n                                                  | - cheese          |\n                                                  +-------------------+\n\n             ```\n             }}}\n\n      #md {{{\n             ***Index***\n             \n             The _index_ is a database of blobs in the form of\n             a hash table that maps the hash values to the contents.\n\n             ```\n             \u003chash\u003e $\\to$ \u003cblob\u003e\n             \u003chash\u003e $\\to$ \u003cblob\u003e\n             \u003chash\u003e $\\to$ \u003cblob\u003e\n             \u003chash\u003e $\\to$ \u003cblob\u003e\n             ```\n             }}}\n\n      #md {{{\n             ***Note***\n\n             - A _file_ can have many versions.\n             - Every version is a _blob_ found in the index.\n             - The entire versioned file system only needs _one_ index.\n             - The index **does not** contain path information of files.\n             }}}\n\n      (:h2 \"Commits\")\n\n      #md {{{\n             A __commit__ is a snapshot in the timeline.\n\n             It has the following parts:\n\n             1. a unique identifier like `91f8324ac3b1b31514bfc364914f9fc9f0fe2bdf`.\n             2. a user who created the changes in the commit, known as the _committer_.\n             3. description of the reason for these changes.\n             4. a __tree__ of paths, with the leaf nodes pointing to blobs in the index.\n             5. ***a previous commit*** which can be the start of the timeline.\n             }}}\n      (note #md {{{\n                   More generally, a commit can actually have multiple _previous commits_.\n                   }}})\n\n      #md {{{\n             Consider three commits.  We will shorten the commit IDs.\n\n             | ID | user | comment | previous |\n             |----|------|---------|----------|\n             |2c70| mike | \"create the lists\" | 0 |\n             |7ba7| jill | \"working on assignment\" | 2c70 |\n             |43e9| jack | \"planning for a party\" | 7ba7 |\n             }}}\n\n      #md {{{\n             Each commit also has a tree.\n\n             ```\n              2c70 \u003c======================== 7ba7 \u003c====================== 43e9\n              \u2514\u2500\u2500 workspace                  \u2514\u2500\u2500 workspace                \u2514\u2500\u2500 workspace\n                  \u251c\u2500\u2500 assignments                \u251c\u2500\u2500 assignments              \u251c\u2500\u2500 assignments\n                  \u2502\u00a0\u00a0 \u2514\u2500\u2500 csci2000u              \u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile *   [5]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile      [5]\n                  \u2502\u00a0\u00a0     \u2514\u2500\u2500 hello.py * [1]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 csci2000u            \u2502\u00a0\u00a0 \u251c\u2500\u2500 csci2000u\n                  \u2514\u2500\u2500 shopping_list              \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 hello.py [1]     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 hello.py  [1]\n                      \u251c\u2500\u2500 computer.txt * [2]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 report.pdf * [6]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 report.pdf    [6]\n                      \u251c\u2500\u2500 food.txt     * [3]     \u2502\u00a0\u00a0 \u2514\u2500\u2500 test.py *    [7]     \u2502\u00a0\u00a0 \u2514\u2500\u2500 test.py       [7]\n                      \u2514\u2500\u2500 gifts.txt    * [4]     \u2514\u2500\u2500 shopping_list            \u2514\u2500\u2500 shopping_list\n                                                     \u251c\u2500\u2500 computer.txt [2]         \u251c\u2500\u2500 computer.txt  [2]\n                                                     \u251c\u2500\u2500 food.txt     [3]         \u251c\u2500\u2500 food.txt *    [8]\n                                                     \u2514\u2500\u2500 gifts.txt    [4]         \u2514\u2500\u2500 gifts.txt *   [9]\n             ```\n             }}}\n\n      #md {{{\n             The index would be:\n\n             ```\n             [1] v1 of hello.py\n             [2] v1 of computer.text\n             [3] v1 of food.txt\n             [4] v1 of gifts.txt\n             [5] v1 of Makefile\n             [6] v1 of report.pdf\n             [7] v1 of test.py\n             [8] v2 of food.txt\n             [9] v2 of gifts.txt\n             ```\n             }}}\n\n      )\n\n(page (:h1 \"Commits and Timeline\")\n\n      #md {{{\n             Review:\n\n             \u003e 1. A **commit** is a tree pointers to some blob in the index.\n             \u003e 2. Given a commit and the index database, we can reconstruct the file system.\n             }}}\n\n      (:div #md {{{\n                  A commit is a snapshot of the file system.  \n\n                  ```\n                  2c70 \u003c======================== 7ba7 \u003c====================== 43e9\n                  \u2514\u2500\u2500 workspace                  \u2514\u2500\u2500 workspace                \u2514\u2500\u2500 workspace\n                      \u251c\u2500\u2500 assignments                \u251c\u2500\u2500 assignments              \u251c\u2500\u2500 assignments\n                      \u2502\u00a0\u00a0 \u2514\u2500\u2500 csci2000u              \u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile *   [5]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile      [5]\n                      \u2502\u00a0\u00a0     \u2514\u2500\u2500 hello.py * [1]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 csci2000u            \u2502\u00a0\u00a0 \u251c\u2500\u2500 csci2000u\n                      \u2514\u2500\u2500 shopping_list              \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 hello.py [1]     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 hello.py  [1]\n                          \u251c\u2500\u2500 computer.txt * [2]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 report.pdf * [6]     \u2502\u00a0\u00a0 \u251c\u2500\u2500 report.pdf    [6]\n                          \u251c\u2500\u2500 food.txt     * [3]     \u2502\u00a0\u00a0 \u2514\u2500\u2500 test.py *    [7]     \u2502\u00a0\u00a0 \u2514\u2500\u2500 test.py       [7]\n                          \u2514\u2500\u2500 gifts.txt    * [4]     \u2514\u2500\u2500 shopping_list            \u2514\u2500\u2500 shopping_list\n                                                         \u251c\u2500\u2500 computer.txt [2]         \u251c\u2500\u2500 computer.txt  [2]\n                                                         \u251c\u2500\u2500 food.txt     [3]         \u251c\u2500\u2500 food.txt *    [8]\n                                                         \u2514\u2500\u2500 gifts.txt    [4]         \u2514\u2500\u2500 gifts.txt *   [9]\n                 ```\n                 }}}\n            #md {{{\n                 If we don\u0027t have to show the tree stored in the commit.\n                 will be represented as:\n\n                 ```\n                 * commit 43e9\n                 | Author: Jack\n                 | Date:   Sat Jun 15 03:29:23 2019 -0400\n                 |\n                 |     planning a party\n                 |\n                 * commit 7ba7\n                 | Author: Jill\n                 | Date:   Sat Jun 15 03:27:33 2019 -0400\n                 |\n                 |     working on assignment\n                 |\n                 * commit 2c70\n                 | Author: Mike\n                 | Date:   Sat Jun 15 03:27:11 2019 -0400\n                 |\n                 |     creation\n                 ```\n                  }}})\n      )\n\n(page (:h1 \"Nonlinear Timeline and Branches\")\n\n      #md {{{\n             So far, we have been assuming that all changes are done\n             in a sequential fashion.\n\n             **All** commits are done **one after another**.\n             }}}\n\n      #md {{{\n             In practice, a versioned file system needs to support\n             nonlinear timeline.\n             }}}\n\n      (:h2 \"Nonlinear timeline\")\n\n      #md {{{\n             Let\u0027s start from the beginning again:\n             ```\n                 * commit 2c70\n                 | Author: Mike\n                 | Date:   Sat Jun 15 03:27:11 2019 -0400\n                 |\n                 |     creation\n             ```\n\n             With the files:\n\n             ```\n             2c70 \n             \u2514\u2500\u2500 workspace                  \n                 \u251c\u2500\u2500 assignments            \n                 \u2502\u00a0\u00a0 \u2514\u2500\u2500 csci2000u          \n                 \u2502\u00a0\u00a0     \u2514\u2500\u2500 hello.py * [1]\n                 \u2514\u2500\u2500 shopping_list         \n                     \u251c\u2500\u2500 computer.txt * [2]\n                     \u251c\u2500\u2500 food.txt     * [3]\n                     \u2514\u2500\u2500 gifts.txt    * [4]\n             ```\n             }}}\n\n      #md {{{\n             ***Jill***\n\n             Jill starts to work on the assignment, and creates a ***branch***\n             of the file system:\n\n             ```\n             2c70 \u003c==== 7ba7 \n                        \u2514\u2500\u2500 workspace               \n                            \u251c\u2500\u2500 assignments         \n                            \u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile *   [5]\n                            \u2502\u00a0\u00a0 \u251c\u2500\u2500 csci2000u       \n                            \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 hello.py [1]\n                            \u2502\u00a0\u00a0 \u251c\u2500\u2500 report.pdf * [6]\n                            \u2502\u00a0\u00a0 \u2514\u2500\u2500 test.py *    [7]\n                            \u2514\u2500\u2500 shopping_list       \n                                \u251c\u2500\u2500 computer.txt [2]\n                                \u251c\u2500\u2500 food.txt     [3]\n                                \u2514\u2500\u2500 gifts.txt    [4]\n            ```\n            }}}\n\n      #md {{{\n             ***Jack***\n\n             Jack also starts to change the files to plan for the party in his separate ***branch***\n             of the file system.\n\n             ```\n             2c70 \u003c===== 43e9\n                         \u2514\u2500\u2500 workspace\n                             \u251c\u2500\u2500 assignments\n                             \u2502\u00a0\u00a0 \u251c\u2500\u2500 csci2000u\n                             \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 hello.py  [1]\n                             \u2514\u2500\u2500 shopping_list\n                                 \u251c\u2500\u2500 computer.txt  [2]\n                                 \u251c\u2500\u2500 food.txt *    [8]\n                                 \u2514\u2500\u2500 gifts.txt *   [9]\n             ```\n             }}}\n\n      #md {{{\n             This leads to a nonlinear timeline:\n\n             ```\n             7ba7    43e9\n             jill    jack\n             |       |\n             +-------+\n             |\n             2c70\n             ```\n             }}}\n      )\n\n(page (:h1 \"Merge\")\n      #md {{{\n             Branches are _unstable_.\n\n             They exist because two modifications to the\n             file system are occurring simultaneously.\n\n             Each branch is a _separate_ timeline.\n             }}}\n\n      #md {{{\n             ***Merge***\n\n             \u003e _Merge_ is when a user actively consolidates\n             \u003e two separate branches back into a single timeline.\n             }}}\n\n      #md {{{\n             ***Example***\n\n             Mike may choose to integrate the changes made by\n             Jill (working on assignment) and Jack (planning a party)\n             into a single commit in the main timeline.\n\n             This is called _Merge_.\n             }}}\n      #md {{{\n             ```\n              *   commit d623\n              |\\  Merge: 17902ec 6bcb584\n              | | Author: Mike\n              | | Date:   Sat Jun 15 03:54:19 2019 -0400\n              | |\n              | |     Merge branch \u0027jack\u0027\n              | |\n              | * commit 43e9 (jack)\n              | | Author: Jack\n              | | Date:   Sat Jun 15 03:53:40 2019 -0400\n              | |\n              | |     planning a party\n              | |\n              * | commit 7ba7 (jill)\n              |/  Author: Jill\n              |   Date:   Sat Jun 15 03:48:46 2019 -0400\n              |\n              |       working on assignment\n              |\n              * commit 2c70\n              | Author: Mike\n              | Date:   Sat Jun 15 03:48:02 2019 -0400\n              |\n              |     creation\n             ```\n             }}}\n      )\n\n(page (:h1 \"Looking forward to Git\")\n\n      #md {{{\n             Let\u0027s look forward to why we want to learn about\n             the version control tool called `git`.\n             }}}\n\n      (rows 4 8\n            (:h2 \"Real file systems\")\n            #md {{{\n                   Real file systems do not support versioning.\n\n                   - Git creates a versioned file system in a directory, known as\n                   a _repository_.\n\n                   - Git commands provide access to the timeline(s)\n                   of the repository.\n                   }}}\n\n            (:h2 \"Distributed versioned file systems\")\n            #md {{{\n                   This goes beyond a single versioned file system:\n\n                   - A repository is replicated over a network of computers.\n                   - Git supports distributed repositories.\n                   }}}\n            )\n\n      (box {:style {:text-align :center}}\n           #md {{{\n                  **We need Git**\n                  }}})\n      )\n", "istop": false, "path": "versioning/data_model"}, "versioning/git": {"children": [], "content": "{:rank 2\n :title \"Git Commands\"\n :summary #md {{{\n                 Git is a tool for as to implement a workflow based on a versioned file system.\n                 }}}\n }\n\n(page (:h1 \"Physical file system meets versioning\")\n\n      (rows :sep 4 8\n        #md {{{\n               Let\u0027s assume a linear timeline.  The most recent state of the versioned\n               file system is called the HEAD.\n               }}}\n        #md {{{\n               ```\n                 (*) \u003c-- HEAD\n                  |\n                  |\n                 (*)\n                  |\n                  |\n                 (*)\n\n               ```\n               }}}\n\n        #md {{{\n               As we are working, we are creating an _uncommitted_ version.\n\n               - \u003ccode style=\"background:#ccc;padding:3px\"\u003e(*)\u003c/code\u003e   committed versions (commit)\n               - \u003ccode style=\"background:#ccc;padding:3px\"\u003e*\u003c/code\u003e    uncommitted version (staging)\n               ```\n               }}}\n        #md {{{\n               ```\n                  * \u003c-- staging area\n                  |\n                  |\n                 (*) \u003c-- HEAD\n                  |\n                  |\n                 (*)\n                  |\n                  |\n                 (*)\n\n               ```\n               }}}\n\n        #md {{{\n               But recall that we are working with a physical file system.\n               Git treats the physical file system as a separate entity,\n               referred to as the _working directory_.\n               }}}\n        #md {{{\n               ```\n                                            Physcial file system\n                                            +----------------------+ \n                  *  \u003c-- staging area \u003c---\u003e | working directory:   |\n                  |                         | directory + files    |\n                  |                         +----------------------+\n                 (*) \u003c-- HEAD               \n                  |\n                  |\n                 (*)\n                  |\n                  |\n                 (*)\n\n               ```\n               }}}\n        )\n      )\n\n(:h1 \"Basic git commands\")\n\n(page (:h1 \"Initialization\")\n\n      #md {{{\n             ```\n             git init\n             ```\n\n             Initializes the _current working directory_ as a git repository.\n             }}}\n\n      (rows 6 6\n            #md {{{\n                   Git needs to prepare a specific directory to support\n                   versioning.  This is done using:\n\n                   ```\n                   \\$ cd my_repo\n                   \\$ git init\n                   ```\n\n                   This only need to be done **once**.\n                   }}}\n            #md {{{\n                   ***Timeline***\n\n                   \u003e ```\n                   \u003e *\n                   \u003e ```\n\n                   There is no commits, just a staging area (which is empty).\n                   }}})\n      )\n\n(page (:h1 \"Adding to the staging area\")\n\n      #md {{{\n             - We can work as normal in the _working directory_.\n             - We need to _manually_ add new versions of files\n             from the working directory to the staging area.\n\n                \u003e ```\n                \u003e git add ...\n                \u003e ```\n             }}}\n\n      (:h2 \"Example\")\n      (rows :sep 5 7\n\n            #md {{{\n                   Suppose we have a repository.\n\n                   ```\n                   \\$ cd my_repo\n                   \\$ echo \"Hello world\" \u003e README.txt\n                   \\$ vim prog.py\n                   \\$ python prog.py \u003e output\n                   ```\n                   }}}\n            #md {{{\n                   ***Timeline***\n\n                   ```\n                   git world                   working directory\n                   =========                   =================\n\n                   * --- .                     ./repo\n                         |                       |\n                                                 +-- README.txt\n                                                 |\n                                                 +-- prog.py\n                                                 |\n                                                 +-- output\n                   ```\n                   }}}\n\n            #md {{{\n                   We can add the important changes in the working directory\n                   to the staging area.\n\n                   ```\n                   \\$ git add README.txt\n                   \\$ git add prog.py\n                   ```\n\n                   **Question**:\n\n                   \u003e Why don\u0027t we want to add `output`?\n                   }}}\n            #md {{{\n                   ***Timeline***\n                   \n                   ```\n                   * --- .                     ./repo\n                         |                       |\n                         +-- README.txt          +-- README.txt\n                         |                       |\n                         +-- prog.py             +-- prog.py\n                                                 |\n                                                 +-- output\n                   ```\n                   }}}\n            )\n      )\n\n(page (:h1 \"Commit\")\n\n      #md {{{\n             When a unit of work is done in the working directory, and\n             all the _new versions_ of files have been added to\n             the staging area, we can advance the timeline by\n             creating a new **commit** using the command:\n\n             \u003e ```\n             \u003e git commit -m \u0027...\u0027\n             \u003e ```\n\n             Note all commits must have a message associated with them.\n             }}}\n      (rows 5 7\n            #md {{{\n                   Once we are happy with the state\n                   of the staging area, we can\n                   advance the timeline by creating a new commit:\n\n                   \u003e ```\n                   \u003e git commit -m \"start project\"\n                   \u003e ```\n                   }}}\n            #md {{{\n                   ***Timeline***\n                   \n                   ```\n                    *--- .                 ./repo           \n                    |      |                   |              \n                    |      +-- README.txt      +-- README.txt\n                    |      |                   |             \n                    |      +-- prog.py         +-- prog.py         \n                   (*)--- .                    |              \n                          |                    +-- output          \n                          +-- README.txt        \n                          |                     \n                          +-- prog.py       \n                   ```\n                   }}}\n\n            #md {{{\n                   Looking at the timeline without\n                   worrying about the tree structure\n                   and the blobs.\n                   }}}\n            #md {{{\n                   ```\n                    * staging\n                    |\n                    |\n                   (*) 43fe71ac\n                   ```\n                   }}}\n            )\n      )\n\n(page (:h1 \"Status\")\n\n      #md {{{\n             We make changes directly to working directory.  But you have seen, these files do\n             not get to be added to the repository automatically.}}}\n      #md {{{\n             We need to _manually_\n             perform `git add ...` to add the new versions into the _staging area_.\n             }}}\n\n      #md {{{\n             ***Status***\n\n             We need to be able to ask `git` to summarize the status of the _working directory_\n             and the _staging area_.  This is done by:\n\n             \u003e ```\n             \u003e git status\n             \u003e ```\n             }}}\n\n      (rows 6 6\n            #md {{{\n                   ***Timeline***\n\n\n                   ```\n                    *-.                 /repo           \n                    | |                    |              \n                    | +- README.txt        +- README.txt\n                    | |                    |            \n                    | +- prog.py (v1)      +- prog.py (v2) \n                   (*)                     |\n                    |                      +- Makefile (v1)\n                    |                      |                     \n                                           +- output      \n                  ```\n\n                  Changes are:\n\n                  - `prog.py` has been modified\n                  - `Makefile` is new\n                  - `output` is an artifact, and should not be\n                  included in the repo.\n                 }}}\n            #md {{{\n                   ***Git status***\n\n                   ```\n                   \\$ git status\n                    On branch master\n                    Changes not staged for commit:\n\n                        modified:   prog.py\n\n                    Untracked files:\n\n                        Makefile\n                        output\n                   ```\n\n                   This tell us what changes have been made.\n\n                   ```\n                   \\$ git add prog.py Makefile\n                   \\$ git commit -m \"add makefile\"\n                   ```\n                   }}}\n            )\n      )\n\n(page (:h1 \"Diff\")\n      #md {{{\n             `git status` is useful to get a summary of the changes made\n             in the working directory, but we might want to actually\n             *see the content changes*.\n             }}}\n      #md {{{\n             This is done by:\n\n             \u003e ```\n             \u003e git diff \u003cfile-path\u003e\n             \u003e ```\n             }}}\n      )\n\n(page (:h1 \"Summary so far\")\n      #md {{{\n             ```\n                             .-------------------------------.\n                             \u2191                               \u2193\n                             \u2191                               \u2193\n            +--------+   +------------+   +----------+   +-------+   +----------+\n            |git init|--\u003e|working with|--\u003e|git status|--\u003e|git add|--\u003e|git commit|\n            +--------+   |files       |   +----------+   +-------+   +----------+\n                         +------------+                      \u2193            \u2193\n                             \u2191                               \u2193            \u2193\n                             \u2191                               \u2193            \u2193\n                             .-------------------------------+            \u2193\n                             \u2191                                            \u2193\n                             \u2191                                            \u2193\n                             .--------------------------------------------.\n\n             ```\n             }}})\n\n(:h1 \"Working with Versioned Files\")\n\n(page (:h1 \"Examining Revisions\")\n\n      #md {{{\n             It\u0027s easy to examine files in the working directory:\n             \n             - `cat prog.py`\n             - `head -10 prog.py`\n             - ...\n             }}}\n\n      #md {{{\n             But how do we access previous revisions of the file\n              in the repo?\n             }}})\n\n(page (:h1 \"Naming points in the timeline\")\n\n      #md {{{\n             Let\u0027s first review some basic concepts that will\n             be referred to often.\n             }}}\n      (rows 4 8\n            (:h2 \"Branch\")\n            (:div #md {{{\n                         A linear timeline is called a ***branch***.\n\n                         - Show far, we have only seen `git` working\n                         on a single timeline.\n\n                         - For small projects, only a single timeline\n                         is needed.\n\n                         - For larger projects, we will need to work\n                         with multiple timelines, or multiple branches.\n                         }}}\n                  #md {{{\n                         The main timeline is called the `master` branch.\n                         }}}\n                  )\n\n            (:h2 \"Commits\")\n            (:div #md {{{\n                         A ***commit*** is a specific version of the whole repository\n                         in a branch.\n\n                         - A commit can appear in multiple branches.\n\n                         - A commit has a unique identifier (a hash value)\n\n                         - A commit has pointer(s) to its previous immediate ancenstor(s).\n                         }}}\n                  )\n\n            (:h2 \"HEAD\")\n            (:div #md {{{\n                         The ***head*** of a **branch** is a _reference_ that points to the most recent commit\n                         of the branch.\n\n                         \u003e The commit referenced by the ***HEAD*** is considered the most up-to-date\n                         \u003e state of the whole repository in the timeline represented by the branch.\n                         \u003e\n                         \u003e **We will almost always work with the HEAD of master branch.**\n                         }}}\n                  )\n\n            (:h2 \"Some remarks\")\n            (:div #md {{{\n                         A commit is *always* uniquely identified by its identifier.\n\n                         \u003e The commit identifier is automatically generated, and it\n                         \u003e **never** changes.\n                         }}}\n                  #md {{{\n                         A branch is *always* uniquely identified by its name.\n\n                         \u003e A branch name is specified by the user.\n                         }}}\n                  #md {{{\n                         HEAD points to a specific commit.  But it changes over time\n                         as the branch evolves.\n                         }}})\n            )\n\n      #md {{{\n             Let\u0027s look at different ways to *specify* a commit.\n             }}}\n\n      (rows 6 6\n\n            #md {{{\n                   Consider a repo with:\n\n                   - one timeline\n                   - three commits\n                   }}}\n\n            #md {{{\n                   ```\n                    \u003cmaster\u003e\n                        \n                        *\n                        |\n                        |\n                    c3 (*) \u003c-- HEAD\n                        |\n                        |\n                    c2 (*)\n                        |\n                        |\n                    c1 (*)\n                   ```\n                   }}}\n\n            #md {{{\n                   Ways to specify commits:\n\n                   1. by its identifier.\n                   2. just the branch name will refer to the HEAD.\n                   3. by the reference name `HEAD`.\n                   4. by offset from the HEAD: `HEAD~\u003coffset\u003e`\n                   }}}\n\n            #md {{{\n                   ```\n                   \u003cmaster\u003e\n                        \n                        *\n                        |\n                        |\n                    c3 (*) ...........  c3, master, HEAD, HEAD~0\n                        |              \n                        |\n                    c2 (*) ...........  c2, HEAD~1\n                        |\n                        |\n                    c1 (*) ...........  c1, HEAD~2\n                   ```\n                   }}}\n            )\n\n      )\n\n(:h1 \"Git commands\")\n\n(page (:h1 \"Showing the timeline\")\n\n      (rows 4 8\n            (:h2 \"Display commits\")\n            #md {{{\n                   `git log`\n                   }}}\n\n            (:h2 \"Display commits in compact form\")\n            #md {{{\n                   `git log --oneline`\n                   }}}\n\n            (:h2 \"Display timeline(s) as graph\")\n            #md {{{\n                   `git log --graph`\n                   }}}\n            )\n      )\n\n(page (:h1 \"Show versioned content\")\n\n      (rows 4 8\n            (:h2 \"Show file content\")\n            (:div #md {{{\n                         General syntax:\n\n                         \u003e ```\n                         \u003e git show \u003crevision\u003e:\u003cpath\u003e\n                         \u003e ```\n                         }}}\n                  #md {{{\n                         Show file at a specific comment:\n                         \u003e ```\n                         \u003e git show 4f2d:src/main.c\n                         \u003e ```\n\n                         Show file at the latest commit:\n                         \u003e ```\n                         \u003e git show HEAD:src/main.c\n                         \u003e ```\n\n                         Show file in the previous commit:\n                         \u003e ```\n                         \u003e git show HEAD~1:src/main.c\n                         \u003e ```\n\n                         Show file in the staging area:\n                         \u003e ```\n                         \u003e git show --:src/main.c\n                         \u003e ```\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Displaying diffs\")\n\n      #md {{{\n             More than the file content, we want to examine\n             the delta changes between revisions.\n             This is done using:\n\n             \u003e ```\n             \u003e git diff ...\n             \u003e ```\n             }}}\n\n      (rows 4 8\n            (:h2 \"Commit vs commit\")\n            #md {{{\n                   `git diff \u003ccommit\u003e \u003ccommit\u003e -- \u003cpath\u003e`\n                   }}}\n\n            (:h2 \"Commit vs working copy\")\n            #md {{{\n                   `git diff \u003ccommit\u003e -- \u003cpath\u003e`\n                   }}}\n\n            (:h2 \"Commit vs staged\")\n            #md {{{\n                   `git diff --cached \u003ccommit\u003e -- \u003cpath\u003e`\n                   }}}\n\n            (:h2 \"Staged vs working copy\")\n            #md {{{\n                   `git diff -- \u003cpath\u003e`\n                   }}}\n            )\n\n      #md {{{\n             ***Remark***\n\n             `diff` prints the deltas between two files using\n             the notation:\n\n             \u003e ```\n             \u003e @@ -23,5 +53,49 @@\n             \u003e - deleted line 1\n             \u003e - deleted line 2\n             \u003e + added line 1\n             \u003e + added line 2\n             \u003e + added line 3\n             \u003e + added line 4\n             \u003e ```\n             }}}\n      )\n\n(page (:h1 \"Examine the evolution of a single file\")\n      \n      #md {{{\n             A very cool feature of git is called\n\n             \u003e ```\n             \u003e git blame \u003cpath\u003e\n             \u003e ```\n\n             It shows the commit (and author) that is\n             responsible for every line of the file.\n             }}})\n\n(page :wide\n      (:h2 \"An example\")\n      (:div #md {{{\n                   `$ git blame src/versioning/git/index.clj`\n                   }}}\n            (file \"blame.txt\"))\n\n      #md {{{\n             A more terse history of a file can be obtained\n             using:\n\n             \u003e ```\n             \u003e git log \u003cpath\u003e\n             \u003e ```\n             }}}\n\n      (:div #md {{{\n                   `$ git log src/versioning/git/index.clj`\n                   }}}\n            (file \"git-log.txt\"))\n      )\n\n(page (:h1 \"Extracting historic files\")\n\n      #md {{{\n             So far, we have seen that `git show`\n             can display the content of files\n             at specific commits.\n\n             **What about copying the versioned\n             file to the working directory?**\n             }}}\n\n      #md {{{\n             We can extract directories\n             and files from specific versions\n             to the working directory.\n\n             \u003e ```\n             \u003e git checkout \u003ccommit\u003e \u003cpath\u003e\n             \u003e ```\n             }}}\n\n      (rows 4 8\n            (:h2 \"Checking out files\")\n            (:div #md {{{\n                         We call that every commit (and the staging area)\n                         is a full tree of paths.\n\n                         But, we only work in the working directory.  If we ever need\n                         to work based on file(s) from a specific commit (or staging area),\n                         we need to checkout first.\n                         }}}\n\n                  #md {{{\n                         ***Checkout***\n\n                         \u003e Make modification to the working directory, and may overwrite any\n                         existing files.\n                         }}}\n\n                  (box\n                  #md {{{\n                         ```\n                           *--- ./src/main.c -----. \n                           |    ./src/test.c      | \n                           |    ./Makefile        |       \u003cworking directory\u003e\n                           |                      .-----\u003e ./src/main.c\n                          (*)-- ./src/main.c              ./src/test.c                        \n                           |    ./Makefile -------------\u003e ./Makefile          \n                           |                    (checkout)\n                           |\n                           |\n                         ```\n                         }}})\n                  )\n\n            (:h2 \"Checking out committed file\")\n            #md {{{\n                   ```\n                   git checkout \u003ccommit\u003e \u003cpath\u003e\n                   ```\n\n                   Example:\n\n                   ```\n                   git checkout HEAD~2 ./Makefile\n                   ```\n                   }}}\n\n            (:h2 \"Checking out staged file\")\n            #md {{{\n                   ```\n                   git checkout -- \u003cpath\u003e\n                   ```\n                   }}}\n\n            (:h2 \"Checking out multiple files\")\n            #md {{{\n                   ```\n                   git checkout HEAD \"./src/*.c\"\n                   ```\n                   }}}\n\n            (:h2 \"Checking out a directory\")\n            #md {{{\n                   ```\n                   git checkout HEAD~1 ./src\n                   ```\n                   }}}\n\n            (:h2 \"Checking out the whole tree\")\n            #md {{{\n                   ```\n                   git checkout HEAD\n                   ```\n\n                   This is equivalent to\n\n                   ```\n                   git checkout master\n                   ```\n                   }}}\n            )\n      )\n\n(:h1 \"Time travel\")\n\n(page (:h1 \"Travel back in time with reset\")\n\n      #md {{{\n             Git maintains a flow of time with the following\n             abstractions:\n\n             - Each commit is an immutable point in time.\n             - The HEAD reference is the _now_.\n             }}}\n\n      #md {{{\n             We can **undo** commits by setting the HEAD reference\n             to some past commits.  This is done using:\n\n             \u003e ```\n             \u003e git reset ...\n             \u003e ```\n             }}}\n\n      (rows 4 8\n            (:h2 \"Consider an on-going repository\")\n            (:div #md {{{\n                         ```\n                         c3: add test  (*) --- ./Makefile       ./Makefile\n                         HEAD           |      ./src/main.py    ./src/main.py\n                                        |      ./src/test.py    ./src/test.py\n                                        |                       ./output.txt\n                         c2: add main  (*) --- ./Makefile\n                                        |      ./src/main.py\n                                        |\n                                        |\n                         c1: create    (*) --- ./Makefile\n                                        |\n                                        |\n                                        |\n                         ```\n                         }}}\n                  #md {{{\n                         **Note**:\n\n                         \u003e `./output.txt` is not part of the\n                         git repository as it has never been\n                         added to the repository.\n                         }}})\n            #md {{{\n                   ## Things are not working out:\n\n                   - `./src/main.py` was badly done.\n                   - `./src/test.py` was equally hopeless.\n                   }}}\n            (:div (box #md {{{\n                              **We just want to start fresh\n                              from commit `c1`.**\n                              }}})\n                  #md {{{\n                         We can perform a _soft_ reset:\n\n                         - resets the HEAD to `c1`\n                         - but **does not modify**\n                         the working directory.\n                         }}}\n\n                  #md {{{\n                         We can perform a _hard_ reset:\n\n                         - resets the HEAD to `c1`\n                         - and copies the tree of `c1` to the working\n                         directory.  So all the changes before\n                         reset will be ***lost***.\n                         }}}\n                  )\n\n            (:h2 \"Soft reset\")\n            (:div #md {{{\n                         The following commands are equivalent:\n                         - `git reset c1`\n                         - `git reset HEAD~2`\n                        }}}\n                  #md {{{\n                         ```\n                         c1: create    (*) --- ./Makefile    ./Makefile\n                         HEAD           |                    ./src/main.py\n                                        |                    ./src/test.py\n                                        |                    ./output.txt\n                         ```\n                         }}}\n                  )\n\n            (:h2 \"Hard reset\")\n            (:div #md {{{\n                         We can perform **hard** reset with the\n                         following command:\n\n                         - `git reset --hard c1`\n                         - `git reset --hard HEAD~2`\n                         }}}\n\n                  #md {{{\n                         ```\n                         c1: create    (*) --- ./Makefile    ./Makefile\n                         HEAD           |                    ./output.txt\n                                        |                    \n                                        |                    \n                         ```\n                         }}}\n                  #md {{{\n                         Note that all the git managed files are copied\n                         from the new HEAD to the working directory.\n\n                         However, `output.txt` is not part of git\n                         managed file.\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Resetting the staging area\")\n\n      #md {{{\n             Quite often, we don\u0027t want to change\n             the HEAD of the timeline, but we want to start over again\n             from the current HEAD.  This requires resetting\n             the staging area:\n\n             \u003e ```\n             \u003e git reset HEAD --\n             \u003e ```\n\n             or simply\n\n             \u003e ```\n             \u003e git reset\n             \u003e ```\n\n             This will *not* modify the working directory.\n             }}}\n\n      #md {{{\n             If we want to start with a _fresh_ working directory\n             as well as a _fresh_ staged area from the current HEAD,\n             we need to perform a hard reset:\n\n             \u003e ```\n             \u003e git reset --hard\n             \u003e ```\n             }}}\n      )\n\n(page (:h1 \"Summary\")\n\n      (code {:lang :bash}\n            {{{\n               # initializes a directory to be a git repository\n               git init\n               }}})\n\n      (code {:lang :bash}\n            {{{\n               # add new versions to the staging area\n               git add \u003cfiles...\u003e\n               }}})\n\n      (code {:lang :bash}\n            {{{\n\n               # create a new commit\n               git commit -m \u003cmessage\u003e\n\n               }}})\n\n      (code {:lang :bash}\n            {{{\n               # shows the difference between two versions\n               git diff \u003ccommit1\u003e \u003ccommit2\u003e\n\n               # shows the difference between the working directory\n               # and the staging area\n               git diff\n               }}})\n\n      (code {:lang :bash}\n            {{{\n               # shows the history of the repository\n               git log\n\n               }}})\n\n      (code {:lang :bash}\n            {{{\n               # shows the content of a file at a specific\n               # version\n               git show \u003ccommit\u003e \u003cpath\u003e\n\n               }}})\n\n      (code {:lang :bash}\n            {{{\n               # shows the history of a file line by line\n               git blame \u003cpath\u003e\n\n               }}})\n\n      (code {:lang :bash}\n            {{{\n               # copy file from a version to the working directory\n               git checkout \u003ccommit\u003e \u003cpath\u003e\n\n               # copy from staged area\n               git checkout -- \u003cpath\u003e\n               }}})\n\n      (code {:lang :bash}\n            {{{\n               # reset the staging area\n               git reset\n\n               # reset the staging area and the working directory\n               git reset --hard\n               }}})\n      (code {:lang :bash}\n            {{{\n               # reset the HEAD to some commit\n               git reset \u003ccommit\u003e\n\n               # reset the HEAD and the working directory to some commit\n               git reset --hard \u003ccommit\u003e\n               }}})\n      )\n\n\n(page (:h1 \"Reference\")\n\n      #md {{{\n             https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud\n             }}}\n      )\n\n", "istop": false, "path": "versioning/git"}, "versioning/github": {"children": [], "content": "{:rank 3\n :title \"Github\"\n :summary #md {{{\n                 Github is a Web based service that provides\n                 distributed version control to support\n                 collaborative software development.\n                 }}}\n }\n\n(page (:h1 \"Background\")\n      (rows 4 8\n            (:h2 \"Distributed version control\")\n            (:div #md {{{\n                         ***Local repository***\n\n                         The `git` workflow we have covered so far is\n                         exclusive to working with a *local repository*.\n\n                         - All versioned content is confined to a single\n                         directory on a file system.\n\n                         - No network connection is required.\n                         }}}\n\n                  #md {{{\n                         ***Distributed repositories***\n\n                         `git` supports *distributed* version control though\n                         distributed repositories.\n\n                         - Each local repository can have a *remote repository*.\n                         - The local and remote timelines are synchronized using\n                         additional `git` commands.\n                         }}}\n                  )\n\n            (:h2 \"Local v.s. remote\")\n            (:div #md {{{\n                         Local vs remote\n\n                         ```\n                         \u003clocal repository\u003e   ........ \u003cnetwork\u003e ...... \u003cremote repository\u003e\n\n                               (*)                                              (*)\n                                |           =================\u003e\u003e\u003e                 |\n                                |               git push                         |\n                               (*)                                              (*)\n                                |                                                |\n                                |           \u003c\u003c\u003c==================                |\n                               (*)              git pull                        (*)\n                                |                                                |\n                                |                                                |\n                         ```\n                         }}}\n\n                  #md {{{\n                         Distributed software developed as required by the open source community.\n\n                         ```\n                                               +------------+\n                                               | remote     |\n                                               | repository |\n                                               +------------+\n                                                     |\n                                                     |\n                                                    / \\\n                                                   /   \\\n                                                  /     \\\n                                                 /       \\\n                                      +------------+   +------------+ \n                                      | user1      |   | user2      | \n                                      | repository |   | repository | \n                                      +------------+   +------------+ \n                         ```\n                         }}}\n                  )\n\n            (:h2 \"New concepts\")\n            #md {{{\n                   **Remote repo**\n\n                   \u003e A `git` repo that resides on another location.\n\n                   **Clone**\n\n                   \u003e Make a local repository from an existing remote repository\n\n                   **Upstream**\n\n                   \u003e Connect an existing local repository to an existing remote repository\n                   }}}\n            )\n      )\n\n(page (:h1 \"Github\")\n\n      (rows 4 8\n            (:h2 \"A hosting service and more\")\n            #md {{{\n                   1. Repositories can be distributed and cloned.\n\n                      \u003e .\n\n                   2. Git allows seemless sharing of ***versioned*** files.\n                      \u003e Compare this to Dropbox\n                   ---\n\n                   - **Github**: a hosting company of git repositories.\n\n                     \u003e Compare this to MySpace or Weebly\n                   }}}\n\n            (:h2 \"Github and this course\")\n            (:div #md {{{\n                         - Each student is **required** to have an account on Github.\n                         - All assignments are to be release on github.\n                         - Students will clone local repositories in order to work on assignments.\n                         - Students must submit their work through `git push` to their personalized\n                         remote repositories.\n                         }}}\n                  #md {{{\n                         ```\n                                             +------------+\n                               (Instructor)  | initial    |\n                                             | assignment |\n                                             +------------+\n                                                   |\n                                                   |\n                                             +------------+\n                                             | master     | this is specific\n                                    (Github) | assignment | to individual students\n                                             +------------+ \n                                                   |\n                                                   |\n                                    .--------------.----------.\n                                    |                         |\n                                    |                         |\n                              +------------+           +-------------+\n                              | local      |           | grading     |\n                              | assignment |           | assignment  |\n                              | repo       |           | repo        |\n                              +------------+           +-------------+ \n                              (Student)                (TA)\n                         ```\n                         }}}\n                  )\n            )\n      )\n\n(page (:h1 \"Workflow with Github\")\n\n\n      (rows :sep\n             4 8\n            (:h2 \"Signup with Github\")\n            #md {{{\n                   ## Create an account\n\n                   \u003e Each user must have an individual account with Github.\n\n                   ## Add SSH key\n\n                   \u003e Git uses `ssh` to perform authentication.  This means that\n                   you must upload a public SSH key to github using\n                   the Web interface.\n                   }}}\n\n            #md {{{\n                   ## Clone github repo\n\n                   \u003e If you are working with an existing repository,\n                   you can create a local copy using:\n                   \u003e\n                   \u003e ```\n                   \u003e git clone \u003curl\u003e\n                   \u003e ```\n                   }}}\n\n            (box\n            #md {{{\n                   ```\n                       .-----------------------.----------------.\n                       |                       |                |\n                       |                 clone |          clone |\n                       |                       V                V\n                        \n                    \u003cgithub\u003e               \u003clocal #1\u003e       \u003clocal #2\u003e \n                                                                       \n                   c3 (*)                  c3 (*)           c3 (*)     \n                       |                       |                |      \n                       |                       |                |      \n                   c2 (*)                  c2 (*)           c2 (*)     \n                       |                       |                |      \n                       |                       |                |      \n                   c1 (*)                  c1 (*)           c1 (*)     \n                   ```\n                   }}})\n\n            #md {{{\n                   ## Work in the local repo\n\n                   \u003e - git add\n                   \u003e - git commit\n                   }}}\n            (box\n            #md {{{\n                   ```\n                    \u003cgithub\u003e           \u003clocal #1\u003e       \u003clocal #2\u003e \n                                                                   \n                                       c5 (*)                      \n                                           |                       \n                                           |                       \n                                       c4 (*)                      \n                                           |                       \n                                           |                       \n                   c3 (*)              c3 (*)           c3 (*)     \n                       |                   |                |      \n                       |                   |                |      \n                   c2 (*)              c2 (*)           c2 (*)     \n                       |                   |                |      \n                       |                   |                |      \n                   c1 (*)              c1 (*)           c1 (*)     \n                                     \n                                      git add\n                                      git commit\n                                      ...\n\n                   ```\n                   }}})\n\n            #md {{{\n                   ## Pushing upstream\n\n                   \u003e The objective to maintain consistent timelines among **all**\n                   \u003e copies of the repositories.\n                   \n                   One must *manually* synchronize the repositories using\n                   pulling and pushing.\n                   }}}\n\n            (:div #md {{{\n                         Since the local repository contains *new* changes, we synchronize by:\n\n                         \u003e `git push`\n                         }}}\n                  (box\n                  #md {{{\n                         ```\n                                  git push\n                             .-----------------------.\n                             |                       |\n                             |                       |\n                             V                       |\n                              \n                          \u003cgithub\u003e               \u003clocal #1\u003e      \u003clocal #2\u003e \n                                                                             \n                         c5 (*)                  c5 (*)                      \n                             |                       |                       \n                             |                       |                       \n                         c4 (*)                  c4 (*)                      \n                             |                       |                       \n                             |                       |                       \n                         c3 (*)                  c3 (*)           c3 (*)     \n                             |                       |                |      \n                             |                       |                |      \n                         c2 (*)                  c2 (*)           c2 (*)     \n                             |                       |                |      \n                             |                       |                |      \n                         c1 (*)                  c1 (*)           c1 (*)     \n                         ```\n                         }}}))\n              #md {{{\n                     ## Pulling from upstream\n\n                     When the remote repository (upstream) is more advanced\n                     than the local copy, we need to perform:\n\n                     \u003e ```\n                     \u003e $ git pull\n                     \u003e ``` \n                     }}}\n\n              #md {{{\n                     ```\n                                              git pull\n                             .---------------------------------------.\n                             |                                       |\n                             |                                       |\n                             |                                       V\n\n                         \u003cgithub\u003e               \u003clocal #1\u003e      \u003clocal #2\u003e \n                                                                             \n                         c5 (*)                  c5 (*)           c5 (*)              \n                             |                       |                |               \n                             |                       |                |               \n                         c4 (*)                  c4 (*)           c4 (*)              \n                             |                       |                |               \n                             |                       |                |               \n                         c3 (*)                  c3 (*)           c3 (*)     \n                             |                       |                |      \n                             |                       |                |      \n                         c2 (*)                  c2 (*)           c2 (*)     \n                             |                       |                |      \n                             |                       |                |      \n                         c1 (*)                  c1 (*)           c1 (*)     \n                     ```\n                     }}}\n            (:h2 \"Remarks\")\n            (:div #md {{{\n                         To peform `git push`:\n\n                         - The staging area must be _empty_.\n                         - The local repo must be strictly ahead of the remote repo.\n\n                             \u003e ```\n                             \u003e             remote repo   local repo\n                             \u003e              |              |\n                             \u003e              |              |\n                             \u003e --(*)--(*)--(*)--(*)--(*)--(*)\n                             \u003e ```\n                         }}}\n                  (--*--)\n                  #md {{{\n                         To perform `git pull`:\n\n                         - The remote repo must be strictly behind the local repo.\n\n                             \u003e ```\n                             \u003e             local repo   remote repo\n                             \u003e              |              |\n                             \u003e              |              |\n                             \u003e --(*)--(*)--(*)--(*)--(*)--(*)\n                             \u003e ``` \n                         }}}\n                  (--*--)\n                  #md {{{\n                         Both `git push` and `git pull`:\n\n                         - can be applied repeatedly safely.\n                         - have a `--force` option to force.\n                         }}}\n                  )\n            )\n      )\n", "istop": false, "path": "versioning/github"}};
    var root_path = "./scientific-data-analysis/";
    var reload_path = window.origin + root_path;
    console.log("app.core.main()");
    app.core.main();
</script>
</body>

<!-- Mirrored from db.science.uoit.ca/library/teaching/scientific-data-analysis by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 06 Apr 2020 22:53:36 GMT -->
</html>